!function t(e,i,n){function s(o,r){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!r&&h)return h(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){var i=e[o][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){"use strict";var n=(t("./constant"),{DEBUG:!0,IMAGES:{title_bg:"image/title_bg.png",press_z:"image/press_z.png",prologue1_bg:"image/prologue1_bg.png",prologue2_bg:"image/prologue2_bg.png",logo:"image/logo.png",side_bar:"image/side_bar.png",fukidashi_normal:"image/fukidashi_blue.png",fukidashi_orange:"image/fukidashi_orange.png",fukidashi_purple:"image/fukidashi_purple.png",aya_normal:"image/aya_normal.png",aya_dissatisfied:"image/aya_dissatisfied.png",aya_smile:"image/aya_smile.png",ganger_normal:"image/ganger_normal.png",ganger_owata:"image/ganger_owata.png",hatena_normal:"image/ganger_normal.png",hatena_owata:"image/ganger_owata.png",renko_normal:"image/renko_normal.png",renko_disappointed:"image/renko_disappointed.png",renko_surprised:"image/renko_surprised.png",renko_trouble:"image/renko_trouble.png",renko_calm:"image/renko_calm.png",merry_normal:"image/merry_normal.png",merry_disappointed:"image/merry_disappointed.png",merry_trouble:"image/merry_trouble.png",name_aya:"image/name_aya.png",name_ganger:"image/name_ganger.png",name_hatena:"image/name_hatena.png",name_merry:"image/name_merry.png",name_renko:"image/name_renko.png",name_yuka:"image/name_yuka.png",name_sanae:"image/name_sanae.png",name_yukari:"image/name_yukari.png",stage1_bg:"image/stage1_bg.png",character_renko:"image/character_renko.png",boss_aya:"image/boss_aya.png",shot:"image/shot.png",item:"image/item.png",enemy:"image/enemy.png",epilogue1_bg:"image/epilogue1_bg.png",epilogue2_1_bg:"image/epilogue2_1_bg.jpg",epilogue2_2_bg:"image/epilogue2_2_bg.jpg"},CJS_IMAGES:[{src:"image/createjs/boss_appearance/circle.png",id:"circle"},{src:"image/createjs/boss_appearance/dot.png",id:"dot"},{src:"image/createjs/boss_appearance/emlight.png",id:"emlight"},{src:"image/createjs/epilogue/1.jpg",id:"_1"},{src:"image/createjs/epilogue/10.jpg",id:"_10"},{src:"image/createjs/epilogue/2.jpg",id:"_2"},{src:"image/createjs/epilogue/3.jpg",id:"_3"},{src:"image/createjs/epilogue/3840805i.jpg",id:"_3840805i"},{src:"image/createjs/epilogue/4.jpg",id:"_4"},{src:"image/createjs/epilogue/5.jpg",id:"_5"},{src:"image/createjs/epilogue/6.jpg",id:"_6"},{src:"image/createjs/epilogue/7.jpg",id:"_7"},{src:"image/createjs/epilogue/8.jpg",id:"_8"},{src:"image/createjs/epilogue/9.jpg",id:"_9"},{src:"image/createjs/epilogue/BO.png",id:"BO"},{src:"image/createjs/epilogue/drenko.png",id:"drenko"},{src:"image/createjs/epilogue/merry.png",id:"merry"},{src:"image/createjs/epilogue/renko.png",id:"renko"},{src:"image/createjs/epilogue/s1.png",id:"s1"},{src:"image/createjs/epilogue/s10.png",id:"s10"},{src:"image/createjs/epilogue/s2.png",id:"s2"},{src:"image/createjs/epilogue/s3.png",id:"s3"},{src:"image/createjs/epilogue/s4.png",id:"s4"},{src:"image/createjs/epilogue/s5.png",id:"s5"},{src:"image/createjs/epilogue/s6.png",id:"s6"},{src:"image/createjs/epilogue/s7.png",id:"s7"},{src:"image/createjs/epilogue/s8.png",id:"s8"},{src:"image/createjs/epilogue/s9.png",id:"s9"},{src:"image/createjs/epilogue/voice1.png",id:"voice1"},{src:"image/createjs/epilogue/voice3.png",id:"voice3"},{src:"image/createjs/epilogue/WO.png",id:"WO"}],SOUNDS:{select:{id:1,path:"sound/select.wav",volume:.8},boss_shot_small:{id:2,path:"sound/boss_shot_small.wav",volume:.15},boss_shot_big:{id:4,path:"sound/boss_shot_big.wav",volume:.15},spellcard:{id:8,path:"sound/spellcard.wav",volume:.15},dead:{id:16,path:"sound/dead.wav",volume:.08},enemy_vanish:{id:32,path:"sound/enemy_vanish.mp3",volume:.1},graze:{id:64,path:"sound/graze.wav",volume:.2}},BGMS:{title:{path:"bgm/title.mp3",volume:.6},prologue:{path:"bgm/prologue.ogg",volume:.4,loopStart:7.5,loopEnd:134.999},douchu:{path:"bgm/douchu.ogg",volume:.4,loopStart:99.096,loopEnd:198.193},stage1:{path:"bgm/stage1.ogg",volume:.5,loopStart:41.379,loopEnd:120.827},epilogue:{path:"bgm/epilogue.mp3",volume:1}},MESSAGE_SPEED:10,TALKER_MOVE_PX:5,CHARA_SIZE_RATIO:.5,PROLOGUE2_LEFT_X:0,PROLOGUE2_LEFT_Y:132,PROLOGUE2_RIGHT_X:283,PROLOGUE2_RIGHT_Y:132,PROLOGUE2_SERIF_WINDOW_X:80,PROLOGUE2_SERIF_WINDOW_Y:0,PROLOGUE2_LEFT_NAME_WINDOW_X:78,PROLOGUE2_LEFT_NAME_WINDOW_Y:420,PROLOGUE2_RIGHT_NAME_WINDOW_X:362,PROLOGUE2_RIGHT_NAME_WINDOW_Y:420,TALKING_LEFT_X:-59,TALKING_LEFT_Y:132,TALKING_RIGHT_X:182,TALKING_RIGHT_Y:132,TALKING_SERIF_WINDOW_X:0,TALKING_SERIF_WINDOW_Y:0,TALKING_LEFT_NAME_WINDOW_X:0,TALKING_LEFT_NAME_WINDOW_Y:420,TALKING_RIGHT_NAME_WINDOW_X:280,TALKING_RIGHT_NAME_WINDOW_Y:420});n.ALL_MATERIAL_NUM=Object.keys(n.IMAGES).length+Object.keys(n.SOUNDS).length+Object.keys(n.BGMS).length+n.CJS_IMAGES.length,e.exports=n},{"./constant":2}],2:[function(t,e,i){"use strict";var n={LOADING_SCENE:0,TITLE_SCENE:1,PROLOGUE1_SCENE:2,PROLOGUE2_SCENE:3,STAGE_SCENE:4,EPILOGUE1_SCENE:5,EPILOGUE2_SCENE:6,ENDING_SCENE:7,BUTTON_LEFT:1,BUTTON_UP:2,BUTTON_RIGHT:4,BUTTON_DOWN:8,BUTTON_Z:16,BUTTON_X:32,BUTTON_SHIFT:64,BUTTON_SPACE:128,WAY_STATE:0,TALK1_STATE:1,BOSS_STATE:2,TALK2_STATE:3,RESULT_STATE:4,GAMEOVER_STATE:5,SPELLCARD_START_STATE:0,SPELLCARD_EXEC_STATE:1};e.exports=n},{}],3:[function(t,e,i){"use strict";t("easeljs"),t("tweenjs"),t("movieclipjs"),t("preloadjs");var n=window.createjs;e.exports=n},{easeljs:50,movieclipjs:51,preloadjs:52,tweenjs:53}],4:[function(t,e,i){"use strict";var n=t("../createjs"),s=t("../image_store"),a={};!function(t,e,i){var n;(t.boss_appearance=function(e,n,s){this.initialize(e,n,s,{}),this.frame_57=function(){this.stop()},this.timeline.addTween(i.Tween.get(this).wait(57).call(this.frame_57)),this.instance=new t.circle_motion,this.instance.setTransform(480,480),this.instance.alpha=.602,this.instance._off=!0,this.timeline.addTween(i.Tween.get(this.instance).wait(27).to({_off:!1},0).wait(31)),this.instance_1=new t.emlight_motion,this.instance_1.setTransform(480,480),this.instance_1._off=!0,this.timeline.addTween(i.Tween.get(this.instance_1).wait(27).to({_off:!1},0).to({_off:!0},30).wait(1)),this.instance_2=new t.dot_1,this.instance_2.setTransform(480,480),this.instance_2._off=!0,this.timeline.addTween(i.Tween.get(this.instance_2).wait(27).to({_off:!1},0).to({_off:!0},30).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(0,0,0,0),(t.circle=function(){this.initialize(e.circle)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,480,480),(t.dot=function(){this.initialize(e.dot)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,300,300),(t.emlight=function(){this.initialize(e.emlight)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,300,300),(t.emlight_image=function(){this.initialize(),this.instance=new t.emlight,this.instance.setTransform(-149.9,-149.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-149.9,-149.9,300,300),(t.dot_imge=function(){this.initialize(),this.instance=new t.dot,this.instance.setTransform(-149.9,-149.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-149.9,-149.9,300,300),(t.circle_image=function(){this.initialize(),this.instance=new t.circle,this.instance.setTransform(-239.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-239.9,-239.9,480,480),(t.emlight_roll=function(e,n,s){this.initialize(e,n,s,{}),this.instance=new t.emlight_image,this.timeline.addTween(i.Tween.get(this.instance).to({rotation:360},59).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-149.9,-149.9,300,300),(t.emlight_motion=function(e,n,s){this.initialize(e,n,s,{}),this.instance=new t.emlight_roll,this.instance.setTransform(0,0,.47,.47),this.instance.alpha=0,this.timeline.addTween(i.Tween.get(this.instance).to({scaleX:1.63,scaleY:1.63,alpha:1},12).wait(3).to({scaleX:1,scaleY:1,alpha:0},14).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-70.4,-70.4,140.9,140.9),(t.dot_1=function(e,n,s){this.initialize(e,n,s,{}),this.instance=new t.dot_imge,this.instance.alpha=0,this.timeline.addTween(i.Tween.get(this.instance).to({scaleX:1.69,scaleY:1.69,alpha:.52},14).to({scaleX:2.43,scaleY:2.43,alpha:0},15).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-149.9,-149.9,300,300),(t.circle_roll=function(e,n,s){this.initialize(e,n,s,{}),this.instance=new t.circle_image("synched",0),this.timeline.addTween(i.Tween.get(this.instance).to({rotation:90},14).to({rotation:180},15).to({rotation:270.1},15).to({rotation:360},15).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-239.9,-239.9,480,480),(t.circle_alpha=function(e,n,s){this.initialize(e,n,s,{}),this.frame_9=function(){this.stop()},this.timeline.addTween(i.Tween.get(this).wait(9).call(this.frame_9)),this.instance=new t.circle_roll,this.instance.setTransform(0,0,1.146,1.146),this.instance.alpha=0,this.timeline.addTween(i.Tween.get(this.instance).to({alpha:1},9).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-274.9,-274.9,550,550),(t.circle_motion=function(e,n,s){this.initialize(e,n,s,{}),this.frame_82=function(){this.stop()},this.timeline.addTween(i.Tween.get(this).wait(82).call(this.frame_82)),this.instance=new t.circle_alpha,this.instance.setTransform(0,0,.35,.35),this.timeline.addTween(i.Tween.get(this.instance).to({scaleX:1.81,scaleY:1.81},34).to({scaleX:.35,scaleY:.35},32).to({scaleX:.4,scaleY:.4},16).wait(1))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-96.2,-96.2,192.5,192.5)}(a=a||{},s=s||{},n=n||{}),e.exports=a},{"../createjs":3,"../image_store":10}],5:[function(t,e,i){"use strict";var n=t("../createjs"),s=t("../image_store"),a={};!function(t,e,i){var n;(t.epilogue=function(e,n,s){this.initialize(e,n,s,{tenchou:2241}),this.instance=new t.s1,this.instance.setTransform(191.8,62.7,.752,.752),this.instance_1=new t.s2,this.instance_1.setTransform(191.8,62.7,.752,.752),this.instance_2=new t.s3,this.instance_2.setTransform(191.8,62.7,.752,.752),this.instance_3=new t.s4,this.instance_3.setTransform(191.8,62.7,.752,.752),this.instance_4=new t.s5,this.instance_4.setTransform(191.8,62.7,.752,.752),this.instance_5=new t.s6,this.instance_5.setTransform(191.8,62.7,.752,.752),this.instance_6=new t.s7,this.instance_6.setTransform(191.8,62.7,.752,.752),this.instance_7=new t.s8,this.instance_7.setTransform(191.8,62.7,.752,.752),this.instance_8=new t.s9,this.instance_8.setTransform(191.8,62.7,.752,.752),this.instance_9=new t.s10,this.instance_9.setTransform(191.8,62.7,.752,.752),this.timeline.addTween(i.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},271).to({state:[{t:this.instance_2}]},605).to({state:[{t:this.instance_3}]},257).to({state:[{t:this.instance_4}]},283).to({state:[{t:this.instance_5}]},206).to({state:[{t:this.instance_6}]},171).to({state:[{t:this.instance_7}]},448).to({state:[{t:this.instance_8}]},378).to({state:[{t:this.instance_9}]},409).to({state:[]},282).wait(4551)),this.instance_10=new t.voice1_1,this.instance_10.setTransform(320,111.5),this.instance_11=new t.voice2,this.instance_11.setTransform(320,111.5,1,1,0,0,180),this.timeline.addTween(i.Tween.get({}).to({state:[{t:this.instance_10,p:{skewY:0}}]}).to({state:[{t:this.instance_10,p:{skewY:180}}]},876).to({state:[{t:this.instance_10,p:{skewY:0}}]},257).to({state:[{t:this.instance_11}]},283).to({state:[{t:this.instance_10,p:{skewY:0}}]},206).to({state:[{t:this.instance_10,p:{skewY:180}}]},171).to({state:[{t:this.instance_10,p:{skewY:0}}]},448).to({state:[{t:this.instance_10,p:{skewY:0}}]},378).to({state:[{t:this.instance_10,p:{skewY:180}}]},409).to({state:[]},282).wait(4551)),this.instance_12=new t.bo,this.instance_12.setTransform(320,240),this.instance_12.alpha=0,this.instance_12._off=!0,this.timeline.addTween(i.Tween.get(this.instance_12).wait(7535).to({_off:!1},0).to({alpha:1},51).wait(275)),this.instance_13=new t.wo,this.instance_13.setTransform(320,240),this.instance_13.alpha=0,this.instance_13._off=!0,this.timeline.addTween(i.Tween.get(this.instance_13).wait(3423).to({_off:!1},0).to({alpha:1},132).wait(190).to({alpha:0},109).to({_off:!0},1).wait(4006)),this.instance_14=new t._1_1,this.instance_14.setTransform(320,240),this.instance_14._off=!0,this.timeline.addTween(i.Tween.get(this.instance_14).wait(3745).to({_off:!1},0).wait(358).to({alpha:0},71).to({_off:!0},1).wait(3686)),this.instance_15=new t._2_1,this.instance_15.setTransform(320,240),this.instance_15._off=!0,this.timeline.addTween(i.Tween.get(this.instance_15).wait(4103).to({_off:!1},0).wait(345).to({alpha:0},71).to({_off:!0},1).wait(3341)),this.instance_16=new t._3_1,this.instance_16.setTransform(320,240),this.instance_16._off=!0,this.timeline.addTween(i.Tween.get(this.instance_16).wait(4448).to({_off:!1},0).wait(370).to({alpha:0},63).to({_off:!0},1).wait(2979)),this.instance_17=new t._4_1,this.instance_17.setTransform(320,240),this.instance_17._off=!0,this.timeline.addTween(i.Tween.get(this.instance_17).wait(4818).to({_off:!1},0).wait(377).to({alpha:0},65).to({_off:!0},1).wait(2600)),this.instance_18=new t._5_1,this.instance_18.setTransform(320,240),this.instance_18._off=!0,this.timeline.addTween(i.Tween.get(this.instance_18).wait(5195).to({_off:!1},0).wait(326).to({alpha:0},61).to({_off:!0},1).wait(2278)),this.instance_19=new t._6_1,this.instance_19.setTransform(320,240),this.instance_19._off=!0,this.timeline.addTween(i.Tween.get(this.instance_19).wait(5521).to({_off:!1},0).wait(378).to({alpha:0},63).to({_off:!0},1).wait(1898)),this.instance_20=new t._7_1,this.instance_20.setTransform(320,240),this.instance_20._off=!0,this.timeline.addTween(i.Tween.get(this.instance_20).wait(5899).to({_off:!1},0).wait(335).to({alpha:0},75).to({_off:!0},1).wait(1551)),this.instance_21=new t._8_1,this.instance_21.setTransform(320,240),this.instance_21._off=!0,this.timeline.addTween(i.Tween.get(this.instance_21).wait(6234).to({_off:!1},0).wait(504).to({alpha:0},60).to({_off:!0},1).wait(1062)),this.instance_22=new t._9_1,this.instance_22.setTransform(320,240),this.instance_22._off=!0,this.timeline.addTween(i.Tween.get(this.instance_22).wait(6738).to({_off:!1},0).wait(544).to({alpha:0},25).to({_off:!0},1).wait(553)),this.instance_23=new t._10,this.timeline.addTween(i.Tween.get({}).to({state:[]}).to({state:[{t:this.instance_23}]},7282).to({state:[]},305).wait(274)),this.instance_24=new t.renko_1,this.instance_24.setTransform(154.3,376.6),this.timeline.addTween(i.Tween.get(this.instance_24).wait(3310).to({x:259.4},113).to({_off:!0},132).wait(4306)),this.instance_25=new t.merry_1,this.instance_25.setTransform(444.7,376.6),this.instance_25._off=!0,this.timeline.addTween(i.Tween.get(this.instance_25).wait(1416).to({_off:!1},0).to({_off:!0},1612).wait(4833)),this.instance_26=new t.dopperu,this.instance_26.setTransform(444.7,376.6),this.instance_26._off=!0,this.timeline.addTween(i.Tween.get(this.instance_26).wait(876).to({_off:!1},0).to({_off:!0},540).wait(1612).to({_off:!1},0).wait(282).to({x:385.6},113).to({_off:!0},132).wait(4306)),this.instance_27=new t._3840805i,this.instance_27.setTransform(-111.7,-3,1.393,1.393),this.timeline.addTween(i.Tween.get({}).to({state:[{t:this.instance_27}]}).to({state:[]},3555).wait(4306))}).prototype=n=new i.MovieClip,n.nominalBounds=new i.Rectangle(-111.7,-3,863.7,629.7),(t._1=function(){this.initialize(e._1)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._10=function(){this.initialize(e._10)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._2=function(){this.initialize(e._2)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._3=function(){this.initialize(e._3)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._3840805i=function(){this.initialize(e._3840805i)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,620,349),(t._4=function(){this.initialize(e._4)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._5=function(){this.initialize(e._5)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._6=function(){this.initialize(e._6)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._7=function(){this.initialize(e._7)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._8=function(){this.initialize(e._8)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t._9=function(){this.initialize(e._9)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,640,480),(t.BO=function(){this.initialize(e.BO)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,64,48),(t.drenko=function(){this.initialize(e.drenko)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,714,1e3),(t.merry=function(){this.initialize(e.merry)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,714,1e3),(t.renko=function(){this.initialize(e.renko)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,714,1e3),(t.s1=function(){this.initialize(e.s1)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s10=function(){this.initialize(e.s10)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s2=function(){this.initialize(e.s2)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s3=function(){this.initialize(e.s3)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s4=function(){this.initialize(e.s4)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s5=function(){this.initialize(e.s5)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s6=function(){this.initialize(e.s6)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s7=function(){this.initialize(e.s7)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s8=function(){this.initialize(e.s8)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.s9=function(){this.initialize(e.s9)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,318,105),(t.voice1=function(){this.initialize(e.voice1)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,960,446),(t.voice3=function(){this.initialize(e.voice3)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,960,446),(t.WO=function(){this.initialize(e.WO)}).prototype=n=new i.Bitmap,n.nominalBounds=new i.Rectangle(0,0,64,48),(t.wo=function(){this.initialize(),this.instance=new t.WO,this.instance.setTransform(-319.9,-239.9,10,10),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t.voice2=function(){this.initialize(),this.instance=new t.voice3,this.instance.setTransform(-239.9,-111.4,.5,.5),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-239.9,-111.4,480,223),(t.voice1_1=function(){this.initialize(),this.instance=new t.voice1,this.instance.setTransform(-239.9,-111.4,.5,.5),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-239.9,-111.4,480,223),(t.renko_1=function(){this.initialize(),this.instance=new t.renko,this.instance.setTransform(178.5,-249.9,.5,.5,0,0,180),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-178.4,-249.9,357,500),(t.merry_1=function(){this.initialize(),this.instance=new t.merry,this.instance.setTransform(-178.4,-249.9,.5,.5),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-178.4,-249.9,357,500),(t.dopperu=function(){this.initialize(),this.instance=new t.drenko,this.instance.setTransform(-178.4,-249.9,.5,.5),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-178.4,-249.9,357,500),(t.bo=function(){this.initialize(),this.instance=new t.BO,this.instance.setTransform(-319.9,-239.9,10,10),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._9_1=function(){this.initialize(),this.instance=new t._9,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._8_1=function(){this.initialize(),this.instance=new t._8,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._7_1=function(){this.initialize(),this.instance=new t._7,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._6_1=function(){this.initialize(),this.instance=new t._6,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._5_1=function(){this.initialize(),this.instance=new t._5,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._4_1=function(){this.initialize(),this.instance=new t._4,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._3_1=function(){this.initialize(),this.instance=new t._3,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._2_1=function(){this.initialize(),this.instance=new t._2,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480),(t._1_1=function(){this.initialize(),this.instance=new t._1,this.instance.setTransform(-319.9,-239.9),this.addChild(this.instance)}).prototype=n=new i.Container,n.nominalBounds=new i.Rectangle(-319.9,-239.9,640,480)}(a=a||{},s=s||{},n=n||{});var a,s,n;e.exports=a},{"../createjs":3,"../image_store":10}],6:[function(t,e,i){"use strict";var n=[[{vector:{r:5,theta:165,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{vector:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{vector:{r:5,theta:105,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{vector:{r:5,theta:75,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{vector:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{vector:{r:5,theta:15,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{vector:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}]];e.exports=n},{}],7:[function(t,e,i){"use strict";var n=[{image:"shot",indexX:3,indexY:1,width:14,height:20,collisionWidth:13,collisionHeight:13,is_rotate:!0},{image:"shot",indexX:0,indexY:1,width:14,height:20,collisionWidth:13,collisionHeight:13,is_rotate:!0},{image:"shot",indexX:2,indexY:0,width:20,height:20,collisionWidth:16,collisionHeight:16,is_rotate:!1},{image:"shot",indexX:7,indexY:1,width:14,height:20,collisionWidth:13,collisionHeight:13,is_rotate:!0},{image:"shot",indexX:0,indexY:4,width:23,height:23,collisionWidth:13,collisionHeight:13,is_rotate:!1}];e.exports=n},{}],8:[function(t,e,i){"use strict";for(var n=[],s=0;6>s;s++)n.push({appear_frame:100+15*s,x:50+20*s,y:0,vital:1,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,vector:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var s=0;6>s;s++)n.push({appear_frame:300+15*s,x:380-20*s,y:0,vital:1,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,vector:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var s=0;6>s;s++)n.push({appear_frame:500+15*s,x:50+20*s,y:0,vital:1,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,vector:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var s=0;6>s;s++)n.push({appear_frame:700+15*s,x:380-20*s,y:0,vital:1,powerItem:s%2===0?1:0,vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,vector:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var s=0;8>s;s++)n.push({appear_frame:900+s*(80-5*s),x:25+s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var s=0;8>s;s++)n.push({appear_frame:950+s*(80-5*s),x:455-s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var s=0;4>s;s++)n.push({appear_frame:1400+20*s,x:50+50*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,shot:[{bullet:1,count:40}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var s=0;4>s;s++)n.push({appear_frame:1410+10*s,x:25+50*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,shot:[{bullet:1,count:40}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var s=0;4>s;s++)n.push({appear_frame:1420+20*s,x:430-50*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,shot:[{bullet:1,count:40}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var s=0;4>s;s++)n.push({appear_frame:1430+10*s,x:455-50*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,shot:[{bullet:1,count:40}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var s=0;20>s;s++)n.push({appear_frame:1700+10*parseInt(s/2),x:(s%2===0?50:80)+10*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,vector:[{count:0,vector:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,vector:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var s=0;20>s;s++)n.push({appear_frame:1900+10*parseInt(s/2),x:(s%2===0?430:400)-10*s,y:0,vital:1,powerItem:s%4===0?1:0,scoreItem:s%4===2?1:0,vector:[{count:0,vector:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,vector:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,vector:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2300+s*(80-5*s),x:25+s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2350+s*(80-5*s),x:455-s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2500+s*(80-5*s),x:25+s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2550+s*(80-5*s),x:455-s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2700+s*(80-5*s),x:25+s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var s=0;8>s;s++)n.push({appear_frame:2750+s*(80-5*s),x:455-s%4*50,y:0,vital:3,powerItem:s%2===0?1:0,scoreItem:s%2===1?1:0,shot:[{bullet:0,count:40+s%2*20}],vector:[{count:0,vector:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+s%2*20,vector:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+s%2*20,vector:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});n.sort(function(t,e){return t.appear_frame-e.appear_frame}),e.exports=n},{}],9:[function(t,e,i){"use strict";var n=t("./config"),s=t("./constant"),a=t("./scene/loading"),o=t("./scene/title"),r=t("./scene/prologue1"),h=t("./scene/prologue2"),c=t("./scene/stage"),l=t("./scene/epilogue1"),u=t("./scene/epilogue2"),p=t("./scene/ending"),_=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.audio_context=new window.AudioContext,this.audio_context.createGain=this.audio_context.createGain||this.audio_context.createGainNode,this.audio_gain=this.audio_context.createGain(),this.audio_source=null,this.state=null,this.scenes=[],this.scenes[s.LOADING_SCENE]=new a(this),this.scenes[s.TITLE_SCENE]=new o(this),this.scenes[s.PROLOGUE1_SCENE]=new r(this),this.scenes[s.PROLOGUE2_SCENE]=new h(this),this.scenes[s.STAGE_SCENE]=new c(this),this.scenes[s.EPILOGUE1_SCENE]=new l(this),this.scenes[s.EPILOGUE2_SCENE]=new u(this),this.scenes[s.ENDING_SCENE]=new p(this),this.images={},this.sounds={},this.bgms={},this.soundflag=0,this.frame_count=0,this.keyflag=0,this.before_keyflag=0,this.is_connect_gamepad=0};_.prototype={init:function(){this.frame_count=0,this.keyflag=0,this.before_keyflag=0,this.is_connect_gamepad=0,this.changeScene(s.LOADING_SCENE)},fontLoadingDone:function(){this.state===s.LOADING_SCENE&&this.currentScene().notifyFontLoadingDone()},handleKeyDown:function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode),t.preventDefault()},handleKeyUp:function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode),t.preventDefault()},isKeyDown:function(t){return this.keyflag&t},isKeyPush:function(t){return!(this.before_keyflag&t)&&this.keyflag&t},_keyCodeToBitCode:function(t){var e;switch(t){case 16:e=s.BUTTON_SHIFT;break;case 32:e=s.BUTTON_SPACE;break;case 37:e=s.BUTTON_LEFT;break;case 38:e=s.BUTTON_UP;break;case 39:e=s.BUTTON_RIGHT;break;case 40:e=s.BUTTON_DOWN;break;case 88:e=s.BUTTON_X;break;case 90:e=s.BUTTON_Z}return e},changeScene:function(t){null!==this.state&&this.currentScene().onunload(),this.state=t,this.currentScene().init()},playBGM:function(t){var e=this;n.DEBUG_MUSIC_OFF||(e.stopBGM(),e.audio_source=e._createSourceNode(t),e.audio_source.start(0))},stopBGM:function(t){var e=this;e.audio_source&&e.audio_source.stop(0)},_createSourceNode:function(t){var e=this,i=e.bgms[t],s=n.BGMS[t],a=e.audio_context.createBufferSource();return a.buffer=i,a.loop=!0,s.loopStart&&(a.loopStart=s.loopStart),s.loopEnd&&(a.loopEnd=s.loopEnd),s.volume&&(e.audio_gain.gain.value=s.volume),a.connect(e.audio_gain),e.audio_gain.connect(e.audio_context.destination),a.start=a.start||a.noteOn,a.stop=a.stop||a.noteOff,a},playSound:function(t){this.soundflag|=n.SOUNDS[t].id},runPlaySound:function(){for(var t in n.SOUNDS)if(this.soundflag&n.SOUNDS[t].id){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play(),this.soundflag&=~n.SOUNDS[t].id;break}},getImage:function(t){return this.images[t]},currentScene:function(){return this.scenes[this.state]},clearCanvas:function(){
this.surface.clearRect(0,0,this.width,this.height)},run:function(){this.handleGamePad(),this.currentScene().run(),this.currentScene().updateDisplay(),this.runPlaySound(),this.before_keyflag=this.keyflag,this.frame_count++,requestAnimationFrame(this.run.bind(this))},notifyLoadingDone:function(){this.changeScene(n.DEBUG&&n.DEBUG_SCENE?n.DEBUG_SCENE:s.TITLE_SCENE)},notifyTitleDone:function(){var t=document.getElementById("scene").value;this.changeScene(n.DEBUG&&t?t:s.PROLOGUE1_SCENE)},notifyPrologue1Done:function(){this.changeScene(s.PROLOGUE2_SCENE)},notifyPrologue2Done:function(){this.changeScene(s.STAGE_SCENE)},notifyStageDone:function(){this.changeScene(s.EPILOGUE1_SCENE)},notifyEpilogue1Done:function(){this.changeScene(s.EPILOGUE2_SCENE)},notifyEpilogue2Done:function(){this.changeScene(s.ENDING_SCENE)},notifyGameOver:function(){this.changeScene(s.TITLE_SCENE)},handleGamePad:function(){if(this.is_connect_gamepad){var t=navigator.getGamepads(),e=t[0];e&&(this.keyflag=0,this.keyflag|=e.buttons[1].pressed?s.BUTTON_Z:0,this.keyflag|=e.buttons[0].pressed?s.BUTTON_X:0,this.keyflag|=e.buttons[2].pressed?s.BUTTON_SELECT:0,this.keyflag|=e.buttons[3].pressed?s.BUTTON_START:0,this.keyflag|=e.axes[1]<-.5?s.BUTTON_UP:0,this.keyflag|=e.axes[1]>.5?s.BUTTON_DOWN:0,this.keyflag|=e.axes[0]<-.5?s.BUTTON_LEFT:0,this.keyflag|=e.axes[0]>.5?s.BUTTON_RIGHT:0)}},enableGamePad:function(){this.is_connect_gamepad=1}},e.exports=_},{"./config":1,"./constant":2,"./scene/ending":26,"./scene/epilogue1":27,"./scene/epilogue2":28,"./scene/loading":29,"./scene/prologue1":30,"./scene/prologue2":31,"./scene/stage":32,"./scene/title":38}],10:[function(t,e,i){e.exports={}},{}],11:[function(t,e,i){"use strict";var n=function(t){this.enemy_index=0,this.appear_params=t};n.prototype.init=function(){this.enemy_index=0},n.prototype.get=function(t){for(var e=[];this.appear_params[this.enemy_index]&&this.appear_params[this.enemy_index].appear_frame===t;)e.push(this.appear_params[this.enemy_index]),this.enemy_index++;return e},e.exports=n},{}],12:[function(t,e,i){"use strict";var n=function(t,e){this.Class=t,this.stage=e,this.pool=[]};n.prototype.get=function(){var t=new this.Class(this.stage);return t.init.apply(t,arguments),t},n.prototype.free=function(t){},e.exports=n},{}],13:[function(t,e,i){"use strict";var n=t("./factory"),s=function(t,e){this.stage=e,this.factory=new n(t,e),this.objects={},this.frame_count=0};s.prototype.init=function(){this.objects={},this.frame_count=0},s.prototype.create=function(){var t=this.factory.get.apply(this.factory,arguments);return this.objects[t.id]=t,t},s.prototype.remove=function(t){delete this.objects[t],this.factory.free(t)},s.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run();this.removeOutOfStageObjects()},s.prototype.removeOutOfStageObjects=function(){for(var t in this.objects)this.objects[t].isOutOfStage()&&this.remove(t)},s.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},s.prototype.checkCollisionWithObject=function(t){for(var e in this.objects){var i=this.objects[e];if(t.checkCollision(i)){t.notifyCollision(i),i.notifyCollision(t);break}}},s.prototype.checkCollisionWithManager=function(t){t:for(var e in this.objects)for(var i in t.objects)if(this.objects[e].checkCollision(t.objects[i])){var n=this.objects[e],s=t.objects[i];n.notifyCollision(s),s.notifyCollision(n);break t}},s.prototype.notifyUseBomb=function(){for(var t in this.objects)this.objects[t].notifyUseBomb()},s.prototype.checkGrazeWithObject=function(t){for(var e in this.objects){var i=this.objects[e];if(t.checkGraze(i)){t.notifyGraze(i),i.notifyGraze(t);break}}},e.exports=s},{"./factory":12}],14:[function(t,e,i){"use strict";var n=t("../config"),s=function(t){this.timeoutID=null,this.script=t,this.progress=null,this.left_chara_id=null,this.left_exp=null,this.right_chara_id=null,this.right_exp=null,this.pos=null,this.fukidashi=null,this.line_num=0,this.printing_lines=[]};s.prototype.init=function(){this.progress=-1,this.timeoutID=null,this.left_chara_id=null,this.left_exp=null,this.right_chara_id=null,this.right_exp=null,this.pos=null,this.fukidashi=null,this.line_num=0,this.printing_lines=[],this.next()},s.prototype.is_end=function(){return this.progress+1===this.script.length},s.prototype.next=function(){this.progress++;var t=this.script[this.progress];this._showChara(t),t.serif?this._printMessage(t.serif):this.next()},s.prototype._showChara=function(t){t.pos&&(this.pos=t.pos,this.fukidashi=t.fukidashi,"left"===t.pos?(this.left_chara_id=t.chara,this.left_exp=t.exp):"right"===t.pos&&(this.right_chara_id=t.chara,this.right_exp=t.exp))},s.prototype._printMessage=function(t){var e=this;null!==e.timeoutID&&(clearTimeout(e.timeoutID),e.timeoutID=null);var i=t.split(""),s=i.length,a=0;e.line_num=0,e.printing_lines=[];var o=function(){if(!(a>=s)){var t=n.MESSAGE_SPEED,r=i[a];a++,"\n"===r?e.line_num++:(e.printing_lines[e.line_num]||(e.printing_lines[e.line_num]=""),e.printing_lines[e.line_num]=e.printing_lines[e.line_num]+r),e.timeoutID=setTimeout(o,t)}};o()},s.prototype.right_image=function(){return this.right_chara_id?this.right_chara_id+"_"+this.right_exp:null},s.prototype.left_image=function(){return this.left_chara_id?this.left_chara_id+"_"+this.left_exp:null},s.prototype.right_name=function(){return this.right_chara_id?"name_"+this.right_chara_id:null},s.prototype.left_name=function(){return this.left_chara_id?"name_"+this.left_chara_id:null},s.prototype.serif_window=function(){return this.fukidashi?"fukidashi_"+this.fukidashi:null},s.prototype.is_left_talking=function(){return"left"===this.pos?!0:!1},s.prototype.is_right_talking=function(){return"right"===this.pos?!0:!1},s.prototype.lines=function(){return this.printing_lines},e.exports=s},{"../config":1}],15:[function(t,e,i){"use strict";var n=t("./game");window.AudioContext=window.AudioContext||window.webkitAudioContext,window.onload=function(){var t=document.getElementById("mainCanvas"),e=new n(t);e.init(),window.onkeydown=function(t){e.handleKeyDown(t)},window.onkeyup=function(t){e.handleKeyUp(t)},document.fonts?document.fonts.addEventListener("loadingdone",function(){e.fontLoadingDone()}):e.fontLoadingDone(),window.Gamepad&&navigator.getGamepads&&e.enableGamePad(),e.run()},window.onerror=function(t,e,i,n,s){window.alert(t+"\n"+i+":"+n)}},{"./game":9}],16:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=(t("../constant"),t("../spell/stage1/tengukaze")),o=t("../spell/stage1/konohamai"),r=t("../object/shot"),h=t("../createjs/boss_appearance"),c=t("../createjs"),l=6,u=4,p=3600,_=2,d=function(t){n.apply(this,arguments),this.indexX=0,this.indexY=0,this.spell_index=0,this.spells=[null,new a(this),new o(this)]};s.inherit(d,n),d.prototype.setInitPosition=function(){this.x=this.stage.width/2,this.y=this.stage.height-400},d.prototype.init=function(){n.prototype.init.apply(this,arguments),this.setInitPosition(),this.max_vital=p,this.vital=p,this.spell_index=0,this.executeSpell();var t=new h.boss_appearance,e=document.createElement("canvas");e.width=960,e.height=960;var i=new c.Stage(e);i.addChild(t),this.boss_appearance={stage:i,canvas:e}},d.prototype.currentSpell=function(){return this.spells[this.spell_index]},d.prototype.executeSpell=function(){this.spell_index++,this.currentSpell().init()},d.prototype.hasNextSpell=function(){return this.spells[this.spell_index+1]?!0:!1},d.prototype.resetVital=function(){this.vital=this.max_vital},d.prototype.isDead=function(){return this.vital<=0},d.prototype.run=function(){n.prototype.run.apply(this,arguments),this.currentSpell().run(),this.currentSpell().isSpellExecute()&&(this.vital--,this.stage.score+=10),this.isDead()&&this.hasNextSpell()&&(this.resetVital(),this.executeSpell());var t=0===this.indexY?l:u;this.frame_count%t===0&&(this.indexX++,this.indexX>2&&(this.indexX=0)),this.boss_appearance.stage.update()},d.prototype.moveLeft=function(){this.x-=_},d.prototype.moveRight=function(){this.x+=_},d.prototype.moveUp=function(){this.y-=_},d.prototype.moveDown=function(){this.y+=_},d.prototype.moveByTheta=function(t){this.x+=this.calc_moveX(t),this.y+=this.calc_moveY(t)},d.prototype._theta_to_radian=function(t){return t/180*Math.PI},d.prototype.calc_moveX=function(t){var e=_*Math.cos(this._theta_to_radian(t));return e},d.prototype.calc_moveY=function(t){var e=_*Math.sin(this._theta_to_radian(t));return e},d.prototype.animateLeft=function(){this.indexY=1},d.prototype.animateRight=function(){this.indexY=2},d.prototype.animateNeutral=function(){this.indexY=0},d.prototype.updateDisplay=function(){var t=this.game.surface;t.save(),t.translate(this.x,this.y),t.drawImage(this.boss_appearance.canvas,-this.boss_appearance.canvas.width/2,-this.boss_appearance.canvas.height/2),t.restore(),n.prototype.updateDisplay.apply(this,arguments),this.currentSpell().updateDisplay()},d.prototype.notifyCollision=function(t){t instanceof r&&(this.vital--,this.stage.score+=10)},d.prototype.collisionWidth=function(){return 64},d.prototype.collisionHeight=function(){return 64},d.prototype.spriteX=function(){return this.indexX},d.prototype.spriteY=function(){return this.indexY},d.prototype.spriteImage=function(){return"boss_aya"},d.prototype.spriteWidth=function(){return 128},d.prototype.spriteHeight=function(){return 128},e.exports=d},{"../constant":2,"../createjs":3,"../createjs/boss_appearance":4,"../object/shot":23,"../spell/stage1/konohamai":47,"../spell/stage1/tengukaze":48,"../util":49,"./base":17}],17:[function(t,e,i){"use strict";var n,s=t("../config"),a=100,o=0,r=function(t){this.frame_count=0,this.stage=t,this.game=t.game,this.id=++o,this.x=0,this.y=0,this.rotate=0};r.prototype.init=function(){this.frame_count=0},r.prototype.notifyCollision=function(t){console.error("notifyCollision method must be overridden.")},r.prototype.collisionHeight=function(){console.error("collisionHeight method must be overridden.")},r.prototype.collisionWidth=function(){console.error("collisionWidth method must be overridden.")},r.prototype.grazeHeight=function(){console.error("grazeHeight method must be overridden.")},r.prototype.grazeWidth=function(){console.error("grazeWidth method must be overridden.")},r.prototype.spriteX=function(){console.error("spriteX method must be overridden.")},r.prototype.spriteY=function(){console.error("spriteY method must be overridden.")},r.prototype.spriteImage=function(){console.error("spriteImage method must be overridden.")},r.prototype.spriteWidth=function(){console.error("spriteWidth method must be overridden.")},r.prototype.spriteHeight=function(){console.error("spriteHeight method must be overridden.")},r.prototype.run=function(){this.frame_count++},r.prototype.updateDisplay=function(){var t=this.game.surface,e=this.game.getImage(this.spriteImage());t.save(),t.translate(this.x,this.y),t.rotate(this.rotate),t.drawImage(e,this.spriteWidth()*this.spriteX(),this.spriteHeight()*this.spriteY(),this.spriteWidth(),this.spriteHeight(),-this.spriteWidth()/2,-this.spriteHeight()/2,this.spriteWidth(),this.spriteHeight()),t.restore(),s.DEBUG&&n&&(t.save(),t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.4,t.fillRect(this.getCollisionLeftX(),this.getCollisionUpY(),this.collisionWidth(),this.collisionHeight()),t.restore())},r.prototype.checkCollisionWithObject=function(t){var e=this;return t.checkCollision(e)?(t.notifyCollision(e),e.notifyCollision(t),!0):!1},r.prototype.checkCollision=function(t){return Math.abs(this.x-t.x)<this.collisionWidth()/2+t.collisionWidth()/2&&Math.abs(this.y-t.y)<this.collisionHeight()/2+t.collisionHeight()/2?!0:!1},r.prototype.getCollisionLeftX=function(){return this.x-this.collisionWidth()/2},r.prototype.getCollisionUpY=function(){return this.y-this.collisionHeight()/2},r.prototype.checkGraze=function(t){return Math.abs(this.x-t.x)<this.grazeWidth()/2+t.grazeWidth()/2&&Math.abs(this.y-t.y)<this.grazeHeight()/2+t.grazeHeight()/2?!0:!1},r.prototype.isOutOfStage=function(){return this.x+a<0||this.y+a<0||this.x>this.stage.width+a||this.y>this.stage.height+a?!0:!1},r.prototype.notifyUseBomb=function(){},r.prototype.notifyGraze=function(){},e.exports=r},{"../config":1}],18:[function(t,e,i){"use strict";var n=t("./vector_base"),s=t("../util"),a=(t("../constant"),t("../enemy/bullet_types")),o=function(t){n.apply(this,arguments)};s.inherit(o,n),o.prototype.init=function(t,e,i,s){this.x=e,this.y=i;var o=a[t];n.prototype.init.apply(this,[[{count:0,vector:s,is_rotate:o.is_rotate}]]),this.image=o.image,this.indexX=o.indexX,this.indexY=o.indexY,this.width=o.width,this.height=o.height,this.collision_width=o.collisionWidth,this.collision_height=o.collisionHeight,this.is_graze=!1},o.prototype.notifyCollision=function(t){this.stage.bullet_manager.remove(this.id)},o.prototype.notifyGraze=function(t){this.is_graze=!0},o.prototype.notifyUseBomb=function(){this.stage.bullet_manager.remove(this.id),this.stage.score+=100,this.stage.item_manager.create(0,this.x,this.y)},o.prototype.collisionWidth=function(){return this.collision_width},o.prototype.collisionHeight=function(){return this.collision_height},o.prototype.grazeHeight=function(){return this.width},o.prototype.grazeWidth=function(){return this.height},o.prototype.spriteX=function(){return this.indexX},o.prototype.spriteY=function(){return this.indexY},o.prototype.spriteImage=function(){return this.image},o.prototype.spriteWidth=function(){return this.width},o.prototype.spriteHeight=function(){return this.height},e.exports=o},{"../constant":2,"../enemy/bullet_types":7,"../util":49,"./vector_base":24}],19:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=(t("../constant"),t("./aya")),o=t("./enemy"),r=t("./bullet"),h=t("../spell/renko/spell1"),c=4,l=3,u=6,p=4,_=5,d=100,f=500,g=5,m=5,w={r:8,theta:270},v=function(t){n.apply(this,arguments),this.indexX=0,this.indexY=0,this.spell=new h(this)};s.inherit(v,n),v.prototype.setInitPosition=function(){this.x=this.stage.width/2,this.y=this.stage.height-100},v.prototype.init=function(){n.prototype.init.apply(this,arguments),this.setInitPosition(),this.life=g,this.bombs=m,this.is_using_bomb=!1,this.using_bomb_count=0,this.is_unhittable=!0,this.unhittable_count=0},v.prototype.shot=function(){this.frame_count%_===0&&this.stage.shot_manager.create(0,this.x,this.y,w)},v.prototype.forbidOutOfStage=function(){this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height)},v.prototype.moveLeft=function(t){this.x-=t?l:c},v.prototype.moveRight=function(t){this.x+=t?l:c},v.prototype.moveUp=function(t){this.y-=t?l:c},v.prototype.moveDown=function(t){this.y+=t?l:c},v.prototype.animateLeft=function(){this.indexY=1},v.prototype.animateRight=function(){this.indexY=2},v.prototype.animateNeutral=function(){this.indexY=0},v.prototype.run=function(){n.prototype.run.apply(this,arguments),this.is_unhittable&&this.unhittable_count+d<this.frame_count&&(this.is_unhittable=!1),this.is_using_bomb&&this.using_bomb_count+f<this.frame_count&&(this.is_using_bomb=!1);var t=0===this.indexY?u:p;this.frame_count%t===0&&(this.indexX++,this.indexX>2&&(this.indexX=0)),this.is_using_bomb&&this.spell.run()},v.prototype.updateDisplay=function(){this.is_unhittable&&(this.game.surface.globalAlpha=.7),n.prototype.updateDisplay.apply(this,arguments),this.is_unhittable&&(this.game.surface.globalAlpha=1),this.is_using_bomb&&this.spell.updateDisplay()},v.prototype.checkCollision=function(t){return(t instanceof r||t instanceof o||t instanceof a)&&(this.is_unhittable||this.is_using_bomb)?!1:n.prototype.checkCollision.apply(this,arguments)},v.prototype.die=function(){this.setInitPosition(),this.life--,this.is_unhittable=!0,this.unhittable_count=this.frame_count},v.prototype.notifyCollision=function(t){(t instanceof r||t instanceof o||t instanceof a)&&(this.game.playSound("dead"),this.stage.effect_manager.create(this.x,this.y),this.die(),0===this.life&&this.stage.notifyCharacterDead())},v.prototype.useBomb=function(){this.bombs<=0||this.is_using_bomb||(this.bombs--,this.using_bomb_count=this.frame_count,this.is_using_bomb=!0,this.stage.enemy_manager.notifyUseBomb(),this.stage.bullet_manager.notifyUseBomb(),this.spell.init())},v.prototype.notifyGraze=function(t){t instanceof r&&(t.is_graze||(this.game.playSound("graze"),this.stage.score+=100))},v.prototype.collisionWidth=function(){return 1},v.prototype.collisionHeight=function(){return 3},v.prototype.grazeHeight=function(){return 48},v.prototype.grazeWidth=function(){return 48},v.prototype.spriteX=function(){return this.indexX},v.prototype.spriteY=function(){return this.indexY},v.prototype.spriteImage=function(){return"character_renko"},v.prototype.spriteWidth=function(){return 48},v.prototype.spriteHeight=function(){return 48},e.exports=v},{"../constant":2,"../spell/renko/spell1":45,"../util":49,"./aya":16,"./base":17,"./bullet":18,"./enemy":21}],20:[function(t,e,i){"use strict";var n=10,s=32,a=t("./base"),o=t("../util"),r=(t("../constant"),function(t,e){a.apply(this,arguments)});o.inherit(r,a),r.prototype.init=function(t,e){this.x=t,this.y=e},r.prototype.run=function(){a.prototype.run.apply(this,arguments),n<=this.frame_count&&this.stage.effect_manager.remove(this.id)},r.prototype.updateDisplay=function(){var t=this.x,e=this.y,i=Math.round(s*this.frame_count*.1),a=document.createElement("canvas");a.width=2*i+4,a.height=2*i+4;var o=a.getContext("2d");o.beginPath(),o.fillStyle="rgb(255, 255, 255)",o.globalAlpha=.05*(n-this.frame_count+1),o.arc(i+2,i+2,i,0,2*Math.PI),o.fill(),o.beginPath(),o.strokeStyle="rgb(255, 255, 255)",o.globalAlpha=.1*(n-this.frame_count+1),o.lineWidth=3,o.arc(i+2,i+2,i,0,2*Math.PI),o.stroke(),this.game.surface.drawImage(a,t-i-2,e-i-2)},e.exports=r},{"../constant":2,"../util":49,"./base":17}],21:[function(t,e,i){"use strict";var n=6,s=t("./vector_base"),a=t("../util"),o=(t("../constant"),t("../object/shot")),r=t("../enemy/bullet_dictionaries"),h=5,c=function(t){s.apply(this,arguments),this.indexX=0,this.indexY=0};a.inherit(c,s),c.prototype.init=function(t){this.x=t.x||0,this.y=t.y||0,s.prototype.init.apply(this,[t.vector]),this.vital=t.vital,this.powerItem=t.powerItem,this.scoreItem=t.scoreItem,this.shots=t.shot,this.shot_index=0,this.indexY=t.type?2*t.type:n},c.prototype.run=function(){s.prototype.run.apply(this,arguments),this.shot(),this.frame_count%h===0&&(this.indexX++,this.indexX>2&&(this.indexX=0))},c.prototype.shot=function(){if(this.shots)for(;this.shots[this.shot_index]&&this.shots[this.shot_index].count<=this.frame_count;){for(var t=r[this.shots[this.shot_index].bullet],e=0,i=t.length;i>e;e++){var n=t[e];this.stage.bullet_manager.create(2,this.x,this.y,n.vector)}this.game.playSound("boss_shot_small"),this.shot_index++}},c.prototype.notifyCollision=function(t){t instanceof o&&this.die()},c.prototype.notifyUseBomb=function(){this.die()},c.prototype.die=function(){this.stage.enemy_manager.remove(this.id),this.game.playSound("enemy_vanish"),this.stage.score+=100,this.stage.effect_manager.create(this.x,this.y),(this.powerItem||this.scoreItem)&&this.stage.item_manager.create(0,this.x,this.y)},c.prototype.collisionWidth=function(){return 20},c.prototype.collisionHeight=function(){return 28},c.prototype.spriteX=function(){return this.indexX},c.prototype.spriteY=function(){return this.indexY},c.prototype.spriteImage=function(){return"enemy"},c.prototype.spriteWidth=function(){return 32},c.prototype.spriteHeight=function(){return 32},e.exports=c},{"../constant":2,"../enemy/bullet_dictionaries":6,"../object/shot":23,"../util":49,"./vector_base":24}],22:[function(t,e,i){"use strict";var n=t("./vector_base"),s=t("../util"),a=function(t,e){n.apply(this,arguments),this.indexX=0,this.indexY=0};s.inherit(a,n),a.prototype.init=function(t,e,i){this.x=e,this.y=i,n.prototype.init.apply(this,[[{count:0,vector:{r:4,theta:270,ra:-.1,rrange:{min:-3}},is_rotate:!1}]]),this.indexX=0,this.indexY=0,this.is_graze=!1},a.prototype.run=function(){(this.is_graze||this.stage.character.is_using_bomb)&&this.setVector([{count:0,vector:{r:10,aimed:!0}}]),n.prototype.run.apply(this,arguments)},a.prototype.notifyCollision=function(t){this.stage.item_manager.remove(this.id),this.game.playSound("graze"),this.stage.score+=1e3},a.prototype.notifyGraze=function(t){this.is_graze=!0},a.prototype.collisionWidth=function(){return 60},a.prototype.collisionHeight=function(){return 60},a.prototype.grazeHeight=function(){return 100},a.prototype.grazeWidth=function(){return 100},a.prototype.spriteX=function(){return this.indexX},a.prototype.spriteY=function(){return this.indexY},a.prototype.spriteImage=function(){return"item"},a.prototype.spriteWidth=function(){return 16},a.prototype.spriteHeight=function(){return 16},e.exports=a},{"../util":49,"./vector_base":24}],23:[function(t,e,i){"use strict";var n=t("./vector_base"),s=t("../util"),a=(t("../constant"),t("../shot_types")),o=function(t){n.apply(this,arguments)};s.inherit(o,n),o.prototype.init=function(t,e,i,s){this.x=e,this.y=i;var o=a[t];n.prototype.init.apply(this,[[{count:0,vector:s,is_rotate:o.is_rotate}]]),this.image=o.image,this.indexX=o.indexX,this.indexY=o.indexY,this.width=o.width,this.height=o.height,this.collision_width=o.collisionWidth,this.collision_height=o.collisionHeight,this.is_penetration=o.is_penetration},o.prototype.run=function(){n.prototype.run.apply(this,arguments)},o.prototype.collisionWidth=function(){return this.collision_width},o.prototype.collisionHeight=function(){return this.collision_height},o.prototype.spriteX=function(){return this.indexX},o.prototype.spriteY=function(){return this.indexY},o.prototype.spriteImage=function(){return this.image},o.prototype.spriteWidth=function(){return this.width},o.prototype.spriteHeight=function(){return this.height},o.prototype.notifyCollision=function(t){this.is_penetration||this.stage.shot_manager.remove(this.id)},e.exports=o},{"../constant":2,"../shot_types":44,"../util":49,"./vector_base":24}],24:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=(t("../constant"),function(t){n.apply(this,arguments)});s.inherit(a,n),a.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.setVector(t)},a.prototype.setVector=function(t){this.vectors=[],this.vector_index=0;for(var e,i=0,n=t.length;n>i;i++)e=t[i],this.vectors.push({count:e.count,r:e.vector.r,theta:e.vector.theta||0,w:e.vector.w||0,ra:e.vector.ra||0,wa:e.vector.wa||0,raa:e.vector.raa||0,waa:e.vector.waa||0,trange:e.vector.trange||null,rrange:e.vector.rrange||null,wrange:e.vector.wrange||null,rarange:e.vector.rarange||null,warange:e.vector.warange||null,aimed:e.vector.aimed,is_rotate:e.is_rotate});this._calculateAimedVector()},a.prototype._calculateAimedVector=function(){for(var t=0,e=this.vectors.length;e>t;t++)if(this.vectors[t].aimed){var i=this.stage.character,n=i.x-this.x,s=i.y-this.y;this.vectors[t].theta=this._radian_to_theta(Math.atan2(s,n))}},a.prototype.run=function(){if(n.prototype.run.apply(this,arguments),this.vectors[this.vector_index+1]&&this.vectors[this.vector_index+1].count<=this.frame_count){var t=this.vectors[this.vector_index].theta;this.vector_index++,t&&!this.vectors[this.vector_index].theta&&(this.vectors[this.vector_index].theta=t)}this.x+=this.calc_moveX(),this.y+=this.calc_moveY();var e=this.vectors[this.vector_index];e.theta+=e.w,e.r+=e.ra,e.w+=e.wa,e.ra+=e.raa,e.wa+=e.waa,e.theta=this._beInRange(e.theta,e.trange),e.r=this._beInRange(e.r,e.rrange),e.w=this._beInRange(e.w,e.wrange),e.ra=this._beInRange(e.ra,e.rarange),e.wa=this._beInRange(e.wa,e.warange),e.is_rotate&&(this.rotate=this._theta_to_radian(e.theta+90))},a.prototype._beInRange=function(t,e){return null===e?t:(void 0!==e.max&&t>e.max&&(t=e.max),void 0!==e.min&&t<e.min&&(t=e.min),t)},a.prototype._theta_to_radian=function(t){return t/180*Math.PI},a.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},a.prototype.calc_moveX=function(){var t=this.vectors[this.vector_index],e=t.r*Math.cos(this._theta_to_radian(t.theta));return e},a.prototype.calc_moveY=function(){var t=this.vectors[this.vector_index],e=t.r*Math.sin(this._theta_to_radian(t.theta));return e},e.exports=a},{"../constant":2,"../util":49,"./base":17}],25:[function(t,e,i){"use strict";var n=function(t){this.game=t,this.frame_count=0};n.prototype.init=function(){this.frame_count=0},n.prototype.run=function(){this.frame_count++},n.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},n.prototype.onunload=function(){this.game.stopBGM()},e.exports=n},{}],26:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=(t("../constant"),t("../config"),function(t){n.apply(this,arguments)});s.inherit(a,n),a.prototype.init=function(){n.prototype.init.apply(this,arguments)},a.prototype.run=function(){n.prototype.run.apply(this,arguments)},a.prototype.updateDisplay=function(){this.game.clearCanvas(),this._showBG()},a.prototype._showBG=function(){var t=this.game.surface;t.fillStyle="rgb(0, 0, 0)",t.fillRect(0,0,this.game.width,this.game.height),t.save(),t.fillStyle="rgb( 6, 40, 255 )",t.textAlign="left",t.font="16px 'Migu'",t.fillText("エンディング(仮画面)",30,30),t.restore()},e.exports=a},{"../config":1,"../constant":2,"../util":49,"./base":25}],27:[function(t,e,i){"use strict";var n=t("../createjs/epilogue"),s=t("../createjs"),a=t("./base"),o=t("../util"),r=t("../constant"),h=t("../config"),c=t("../serif/epilogue1"),l=t("../logic/serif"),u=function(t){a.apply(this,arguments),this.serif=new l(c)};o.inherit(u,a),u.prototype.init=function(){a.prototype.init.apply(this,arguments),h.DEBUG&&(this.serif.script=JSON.parse(document.getElementById("epilogue1").value)),this.serif.init();var t=new n.epilogue,e=document.createElement("canvas");e.width=640,e.height=480;var i=new s.Stage(e);i.addChild(t),this.epilogue={stage:i,canvas:e},this.game.playBGM("epilogue")},u.prototype.run=function(){a.prototype.run.apply(this,arguments),this.game.isKeyPush(r.BUTTON_Z)&&(this.serif.is_end()?this.game.notifyEpilogue1Done():this.serif.next()),this.epilogue.stage.update()},u.prototype.updateDisplay=function(){var t=this.game.surface;t.save(),t.drawImage(this.epilogue.canvas,0,0),t.restore()},u.prototype._showBG=function(){var t=this.game.surface,e=this.game.getImage("epilogue1_bg");t.save(),t.drawImage(e,0,0,e.width,e.height,0,0,this.game.width,this.game.height),t.restore()},u.prototype._showRightChara=function(){var t=this.game.surface;t.save();var e=h.PROLOGUE2_RIGHT_X,i=h.PROLOGUE2_RIGHT_Y;this.serif.is_right_talking()?(e-=h.TALKER_MOVE_PX,i-=h.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.right_image());t.drawImage(n,e,i,n.width*h.CHARA_SIZE_RATIO,n.height*h.CHARA_SIZE_RATIO),t.restore()},u.prototype._showLeftChara=function(){var t=this.game.surface;t.save();var e=h.PROLOGUE2_LEFT_X,i=h.PROLOGUE2_LEFT_Y;this.serif.is_left_talking()?(e-=-h.TALKER_MOVE_PX,i-=h.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.left_image());t.transform(-1,0,0,1,n.width*h.CHARA_SIZE_RATIO,0),t.drawImage(n,-e,i,n.width*h.CHARA_SIZE_RATIO,n.height*h.CHARA_SIZE_RATIO),t.restore()},u.prototype._showName=function(t,e,i){var n=this.game.surface;n.save();var s=this.game.getImage(t);n.drawImage(s,e,i,s.width*h.CHARA_SIZE_RATIO,s.height*h.CHARA_SIZE_RATIO),n.restore()},u.prototype._showMessageWindow=function(){var t=this.game.surface;t.save();var e=h.PROLOGUE2_SERIF_WINDOW_X,i=h.PROLOGUE2_SERIF_WINDOW_Y,n=this.game.getImage(this.serif.serif_window());this.serif.is_right_talking()&&(e=-e,t.transform(-1,0,0,1,n.width*h.CHARA_SIZE_RATIO,0)),t.drawImage(n,e,i,n.width*h.CHARA_SIZE_RATIO,n.height*h.CHARA_SIZE_RATIO),t.restore()},u.prototype._showMessage=function(){var t=this.game.surface;t.save(),t.font="18px 'Migu'",t.textAlign="left",t.textBaseAlign="middle",t.fillStyle="rgb( 0, 0, 0 )";var e,i=this.serif.lines();if(i.length){e=80;for(var n=0,s=i.length;s>n;n++)t.fillText(i[n],200,e),e+=30}t.restore()},e.exports=u},{"../config":1,"../constant":2,"../createjs":3,"../createjs/epilogue":5,"../logic/serif":14,"../serif/epilogue1":39,"../util":49,"./base":25}],28:[function(t,e,i){"use strict";var n=600,s=t("./base"),a=t("../util"),o=(t("../constant"),t("../config"),function(t){s.apply(this,arguments)});a.inherit(o,s),o.prototype.init=function(){s.prototype.init.apply(this,arguments)},o.prototype.run=function(){s.prototype.run.apply(this,arguments),n+300<this.frame_count},o.prototype.updateDisplay=function(){this.game.clearCanvas(),this._showBG()},o.prototype._showBG=function(){var t=this.game.surface;if(t.fillStyle="rgb(0, 0, 0)",t.fillRect(0,0,this.game.width,this.game.height),t.save(),this.frame_count<n){this._setTransition();var e=this.game.getImage("epilogue2_1_bg");t.drawImage(e,0,0,e.width,e.height,0,0,this.game.width,this.game.height)}else{var i=this.game.getImage("epilogue2_2_bg");t.drawImage(i,0,0,i.width,i.height,0,0,this.game.width,this.game.height)}t.restore()},o.prototype._setTransition=function(){var t=this.game.surface,e=1;this.frame_count<n/3?e=3*this.frame_count/n:n/3<this.frame_count&&this.frame_count<2*n/3?e=1:2*n/3<this.frame_count&&(e=3*(n-this.frame_count)/n),t.globalAlpha=e},e.exports=o},{"../config":1,"../constant":2,"../util":49,"./base":25}],29:[function(t,e,i){"use strict";var n=t("../createjs"),s=t("../image_store"),a=t("../util"),o=t("../config"),r=t("./base"),h=function(t){r.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0,this.loadedCjsImageNum=0,this.fontLoadingDone=!1};a.inherit(h,r),h.prototype.init=function(){this._loadImages(),this._loadCjsImages(),this._loadSounds(),this._loadBGMs()},h.prototype.loaded_material_num=function(){return this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum+this.loadedCjsImageNum},h.prototype.notifyFontLoadingDone=function(){this.fontLoadingDone=!0},h.prototype.run=function(){this.loaded_material_num()>=o.ALL_MATERIAL_NUM&&this.fontLoadingDone&&this.game.notifyLoadingDone()},h.prototype.updateDisplay=function(){this.game.clearCanvas();var t=o.ALL_MATERIAL_NUM,e=this.loaded_material_num(),i=this.game.surface;i.save(),i.fillStyle="rgb( 0, 0, 0 )",i.textAlign="right",i.font="30px 'Migu'",i.fillText("Now Loading...",400,225),i.fillText(e+"/"+t,400,285),i.restore()},h.prototype._loadImages=function(){var t,e=this,i=function(){e.loadedImageNum++};for(var n in o.IMAGES)t=new Image,t.src=o.IMAGES[n],t.onload=i,this.game.images[n]=t},h.prototype._loadCjsImages=function(){var t=this,e=new n.PreloadJS(!1);e.onFileLoad=function(e){"image"===e.type&&(s[e.id]=e.result,t.loadedCjsImageNum++)},e.loadManifest(o.CJS_IMAGES)},h.prototype._loadSounds=function(){var t,e,i=this,n=function(){i.loadedBGMNum++};for(var s in o.SOUNDS)t=o.SOUNDS[s],e=new Audio(t.path),e.volume=t.volume,e.addEventListener("canplay",n),e.load(),this.game.sounds[s]=e},h.prototype._loadBGMs=function(){var t=this;for(var e in o.BGMS)!function(e){var i=o.BGMS[e];t._loadBGM(i.path,function(i){t.loadedBGMNum++,t.game.bgms[e]=i})}(e)},h.prototype._loadBGM=function(t,e){var i=this,n=new XMLHttpRequest;n.onload=function(){if(200===n.status){var t=n.response;i.game.audio_context.decodeAudioData(t,e,function(t){t instanceof Error?window.alert(t.message):window.alert('Error : "decodeAudioData" method.')})}},n.open("GET",t,!0),n.responseType="arraybuffer",n.send(null)},e.exports=h},{"../config":1,"../createjs":3,"../image_store":10,"../util":49,"./base":25}],30:[function(t,e,i){"use strict";var n=t("../serif/prologue1"),s=900,a=115,o=150,r=27,h=12,c=t("./base"),l=t("../util"),u=t("../constant"),p=t("../config"),_=function(t){c.apply(this,arguments)};l.inherit(_,c),_.prototype.init=function(){c.prototype.init.apply(this,arguments)},_.prototype.run=function(){c.prototype.run.apply(this,arguments),(s<this.frame_count||this.game.isKeyPush(u.BUTTON_Z))&&this.game.notifyPrologue1Done()},_.prototype.updateDisplay=function(){this.game.clearCanvas();this.game.surface;this._showBG(),this._showMessage()},_.prototype._showBG=function(){var t=this.game.surface,e=this.game.getImage("prologue1_bg");t.drawImage(e,0,0,e.width,e.height,0,0,this.game.width,this.game.height);
},_.prototype._setTransition=function(){var t=this.game.surface,e=1;this.frame_count<s/3?e=3*this.frame_count/s:s/3<this.frame_count&&this.frame_count<2*s/3?e=1:2*s/3<this.frame_count&&(e=3*(s-this.frame_count)/s),t.globalAlpha=e},_.prototype._showMessage=function(){var t=this.game.surface;if(t.save(),this._setTransition(),s>this.frame_count){t.font=r+"px 'Migu'",t.textBaseAlign="middle",t.fillStyle="rgb( 255, 255, 255 )";var e=p.DEBUG?document.getElementById("prologue1").value.split("\n"):n.split("\n");if(e.length)for(var i=o,c=0,l=e.length;l>c;c++)t.fillText(e[c],a,i),i+=r+h}t.restore()},e.exports=_},{"../config":1,"../constant":2,"../serif/prologue1":40,"../util":49,"./base":25}],31:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=t("../constant"),o=t("../config"),r=t("../serif/prologue2"),h=t("../logic/serif"),c=function(t){n.apply(this,arguments),this.serif=new h(r)};s.inherit(c,n),c.prototype.init=function(){n.prototype.init.apply(this,arguments),o.DEBUG&&(this.serif.script=JSON.parse(document.getElementById("prologue2").value)),this.serif.init()},c.prototype.run=function(){n.prototype.run.apply(this,arguments),60===this.frame_count&&this.game.playBGM("prologue"),this.game.isKeyPush(a.BUTTON_Z)&&(this.serif.is_end()?this.game.notifyPrologue2Done():this.serif.next())},c.prototype.updateDisplay=function(){this.game.clearCanvas();this.game.surface;this._showBG(),this.serif.right_image()&&this._showRightChara(),this.serif.right_name()&&this._showName(this.serif.right_name(),o.PROLOGUE2_RIGHT_NAME_WINDOW_X,o.PROLOGUE2_RIGHT_NAME_WINDOW_Y),this.serif.left_image()&&this._showLeftChara(),this.serif.left_name()&&this._showName(this.serif.left_name(),o.PROLOGUE2_LEFT_NAME_WINDOW_X,o.PROLOGUE2_LEFT_NAME_WINDOW_Y),this.serif.serif_window()&&this._showMessageWindow(),this._showMessage()},c.prototype._showBG=function(){var t=this.game.surface,e=this.game.getImage("prologue2_bg");t.save(),t.drawImage(e,0,0,e.width,e.height,0,0,this.game.width,this.game.height),t.restore()},c.prototype._showRightChara=function(){var t=this.game.surface;t.save();var e=o.PROLOGUE2_RIGHT_X,i=o.PROLOGUE2_RIGHT_Y;this.serif.is_right_talking()?(e-=o.TALKER_MOVE_PX,i-=o.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.right_image());t.drawImage(n,e,i,n.width*o.CHARA_SIZE_RATIO,n.height*o.CHARA_SIZE_RATIO),t.restore()},c.prototype._showLeftChara=function(){var t=this.game.surface;t.save();var e=o.PROLOGUE2_LEFT_X,i=o.PROLOGUE2_LEFT_Y;this.serif.is_left_talking()?(e-=-o.TALKER_MOVE_PX,i-=o.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.left_image());t.transform(-1,0,0,1,n.width*o.CHARA_SIZE_RATIO,0),t.drawImage(n,-e,i,n.width*o.CHARA_SIZE_RATIO,n.height*o.CHARA_SIZE_RATIO),t.restore()},c.prototype._showName=function(t,e,i){var n=this.game.surface;n.save();var s=this.game.getImage(t);n.drawImage(s,e,i,s.width*o.CHARA_SIZE_RATIO,s.height*o.CHARA_SIZE_RATIO),n.restore()},c.prototype._showMessageWindow=function(){var t=this.game.surface;t.save();var e=o.PROLOGUE2_SERIF_WINDOW_X,i=o.PROLOGUE2_SERIF_WINDOW_Y,n=this.game.getImage(this.serif.serif_window());this.serif.is_right_talking()&&(e=-e,t.transform(-1,0,0,1,n.width*o.CHARA_SIZE_RATIO,0)),t.drawImage(n,e,i,n.width*o.CHARA_SIZE_RATIO,n.height*o.CHARA_SIZE_RATIO),t.restore()},c.prototype._showMessage=function(){var t=this.game.surface;t.save(),t.font="18px 'Migu'",t.textAlign="left",t.textBaseAlign="middle",t.fillStyle="rgb( 0, 0, 0 )";var e,i=this.serif.lines();if(i.length){e=80;for(var n=0,s=i.length;s>n;n++)t.fillText(i[n],200,e),e+=30}t.restore()},e.exports=c},{"../config":1,"../constant":2,"../logic/serif":14,"../serif/prologue2":41,"../util":49,"./base":25}],32:[function(t,e,i){"use strict";var n=160,s=3,a=3500,o=t("./base"),r=t("../util"),h=t("../config"),c=t("../constant"),l=t("./stage/state/way"),u=t("./stage/state/talk"),p=t("./stage/state/boss"),_=t("./stage/state/result"),d=t("./stage/state/result"),f=t("../object/character"),g=t("../object/shot"),m=t("../object/enemy"),w=t("../object/aya"),v=t("../object/bullet"),y=t("../object/effect"),T=t("../object/item"),b=t("../serif/stage1_before"),x=t("../serif/stage1_after"),I=t("../logic/manager"),S=function(t){o.apply(this,arguments),this.state=null,this.score=0,this.states=[],this.states[c.WAY_STATE]=new l(this),this.states[c.TALK1_STATE]=new u(this,b,c.BOSS_STATE),this.states[c.BOSS_STATE]=new p(this),this.states[c.TALK2_STATE]=new u(this,x,c.RESULT_STATE),this.states[c.RESULT_STATE]=new _(this),this.states[c.GAMEOVER_STATE]=new d(this),this.width=this.game.width-n,this.height=this.game.height,this.shot_manager=new I(g,this),this.character=new f(this),this.enemy_manager=new I(m,this),this.effect_manager=new I(y,this),this.objects=[this.shot_manager,this.character,this.enemy_manager,this.effect_manager],this.boss=new w(this),this.bullet_manager=new I(v,this),this.item_manager=new I(T,this)};r.inherit(S,o),S.prototype.init=function(){o.prototype.init.apply(this,arguments),this.state=null,this.score=0;for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].init();this.changeState(h.DEBUG&&h.DEBUG_STATE?h.DEBUG_STATE:c.WAY_STATE)},S.prototype.currentState=function(){return this.states[this.state]},S.prototype.changeState=function(t){this.state=t,this.currentState().init()},S.prototype.run=function(){o.prototype.run.apply(this,arguments);for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].run();this.currentState().run(),this.state===c.WAY_STATE&&this.frame_count===a?this.changeState(c.TALK1_STATE):this.state===c.BOSS_STATE&&this.boss.isDead()&&!this.boss.hasNextSpell()&&this.changeState(c.TALK2_STATE)},S.prototype.updateDisplay=function(){this.game.clearCanvas(),this._showBG();for(var t=0,e=this.objects.length;e>t;t++)this.objects[t].updateDisplay();this.currentState().updateDisplay(),this._showSidebar()},S.prototype._showSidebar=function(){var t=this.game.surface,e=this.game.width-n,i=0;t.save();var s=this.game.getImage("side_bar");this.game.surface.drawImage(s,0,0,s.width,s.height,e,i,n,this.game.height),t.restore(),this._showText()},S.prototype._showText=function(){var t,e=18,i=21,s=this.game.width-n+10,a=this.game.width-n+35;switch(this.character.life){case 1:t="★";break;case 2:t="★★";break;case 3:t="★★★";break;case 4:t="★★★★";break;case 5:t="★★★★★";break;default:t=""}var o=this.game.surface;o.save(),o.fillStyle="rgb( 6, 40, 255 )",o.textAlign="left",o.font=e+"px 'Migu'",o.fillText("Score",s,70),o.fillText("Player",s,130),h.DEBUG&&o.fillText("Frame",s,235),o.font=i+"px 'Migu'",o.fillText(this.score,a,95),o.fillText(t,a,155);var r;switch(this.character.bombs){case 1:r="★";break;case 2:r="★★";break;case 3:r="★★★";break;case 4:r="★★★★";break;case 5:r="★★★★★";break;default:r=""}h.DEBUG&&o.fillText(this.frame_count,a,260),o.restore()},S.prototype._showBG=function(){var t=this.game.surface,e=0,i=this.frame_count*s%this.game.height;t.save();var a=this.game.getImage("stage1_bg");this.game.surface.drawImage(a,0,0,a.width,a.height,e,i,this.game.width-n,this.game.height),this.game.surface.drawImage(a,0,0,a.width,a.height,e,i-this.game.height,this.game.width-n,this.game.height),this.game.surface.restore()},S.prototype.notifyCharacterDead=function(){this.changeState(c.RESULT_STATE)},e.exports=S},{"../config":1,"../constant":2,"../logic/manager":13,"../object/aya":16,"../object/bullet":18,"../object/character":19,"../object/effect":20,"../object/enemy":21,"../object/item":22,"../object/shot":23,"../serif/stage1_after":42,"../serif/stage1_before":43,"../util":49,"./base":25,"./stage/state/boss":34,"./stage/state/result":35,"./stage/state/talk":36,"./stage/state/way":37}],33:[function(t,e,i){"use strict";var n=function(t){this.stage=t,this.game=t.game,this.frame_count=0};n.prototype.init=function(){this.frame_count=0},n.prototype.run=function(){this.frame_count++},n.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},e.exports=n},{}],34:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../../util"),a=(t("../../../config"),t("../../../constant")),o=5,r=function(t){n.apply(this,arguments)};s.inherit(r,n),r.prototype.init=function(){n.prototype.init.apply(this,arguments),this.stage.boss.init(),this.stage.bullet_manager.init(),this.game.stopBGM()},r.prototype.run=function(){n.prototype.run.apply(this,arguments),1===this.frame_count&&this.game.playBGM("stage1");var t=this.stage.character;this.game.isKeyDown(a.BUTTON_Z)&&t.shot(),this.game.isKeyPush(a.BUTTON_X);var e=this.game.isKeyDown(a.BUTTON_Z);this.game.isKeyDown(a.BUTTON_LEFT)&&t.moveLeft(e),this.game.isKeyDown(a.BUTTON_RIGHT)&&t.moveRight(e),this.game.isKeyDown(a.BUTTON_DOWN)&&t.moveDown(e),this.game.isKeyDown(a.BUTTON_UP)&&t.moveUp(e),t.forbidOutOfStage(),this.game.isKeyDown(a.BUTTON_LEFT)&&!this.game.isKeyDown(a.BUTTON_RIGHT)?t.animateLeft():this.game.isKeyDown(a.BUTTON_RIGHT)&&!this.game.isKeyDown(a.BUTTON_LEFT)?t.animateRight():t.animateNeutral(),this.stage.item_manager.checkCollisionWithObject(t),0===Number(document.getElementById("invincible").value)&&(this.stage.bullet_manager.checkCollisionWithObject(t),t.checkCollisionWithObject(this.stage.boss)),this.stage.shot_manager.checkCollisionWithObject(this.stage.boss),this.stage.bullet_manager.checkGrazeWithObject(t),this.stage.boss.run(),this.stage.bullet_manager.run(),this.stage.item_manager.run()},r.prototype.updateDisplay=function(){this.stage.boss.updateDisplay(),this.stage.bullet_manager.updateDisplay(),this.stage.item_manager.updateDisplay(),this._showVital()},r.prototype._showVital=function(){var t=this.game.surface;t.save(),t.fillStyle="rgb( 255, 255, 255 )",t.fillRect(o,o,this.stage.boss.vital/this.stage.boss.max_vital*(this.stage.width-2*o),o),t.restore()},e.exports=r},{"../../../config":1,"../../../constant":2,"../../../util":49,"./base":33}],35:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../../util"),a=(t("../../../config"),t("../../../constant")),o=50,r=100,h=function(t){n.apply(this,arguments)};s.inherit(h,n),h.prototype.init=function(){n.prototype.init.apply(this,arguments)},h.prototype.run=function(){n.prototype.run.apply(this,arguments),this.game.isKeyPush(a.BUTTON_Z)&&(this.game.playSound("select"),this.game.notifyGameOver())},h.prototype.updateDisplay=function(){this._showScoreWindow()},h.prototype._showScoreWindow=function(){var t=this.game.surface;t.save();var e=1;e=this.frame_count<r?this.frame_count/r:1,t.fillStyle="rgb( 0, 0, 0 )",t.globalAlpha=.5*e,t.fillRect(0,170,this.stage.width,100),t.globalAlpha=e,t.fillStyle="rgb( 255, 255, 255 )",t.textAlign="left",t.font="16px 'Migu'",t.fillText("Result",100,210),t.textAlign="right",t.fillText("Score: "+this.stage.score,380,210),t.fillRect(100,225,280,1),Math.floor(this.frame_count/o)%2===0&&t.fillText("Press Z to Quit",300,250),t.restore()},e.exports=h},{"../../../config":1,"../../../constant":2,"../../../util":49,"./base":33}],36:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../../util"),a=t("../../../config"),o=t("../../../constant"),r=t("../../../logic/serif"),h=function(t,e,i){n.apply(this,arguments),this.serif=new r(e),this.next_state=i};s.inherit(h,n),h.prototype.init=function(){n.prototype.init.apply(this,arguments),a.DEBUG,this.serif.init()},h.prototype.run=function(){n.prototype.run.apply(this,arguments),this.game.isKeyPush(o.BUTTON_Z)&&(this.serif.is_end()?this.stage.changeState(this.next_state):this.serif.next())},h.prototype.updateDisplay=function(){this.game.surface;this.serif.right_image()&&this._showRightChara(),this.serif.right_name()&&this._showName(this.serif.right_name(),a.TALKING_RIGHT_NAME_WINDOW_X,a.TALKING_RIGHT_NAME_WINDOW_Y),this.serif.left_image()&&this._showLeftChara(),this.serif.left_name()&&this._showName(this.serif.left_name(),a.TALKING_LEFT_NAME_WINDOW_X,a.TALKING_LEFT_NAME_WINDOW_Y),this.serif.serif_window()&&this._showMessageWindow(),this._showMessage()},h.prototype._showRightChara=function(){var t=this.game.surface;t.save();var e=a.TALKING_RIGHT_X,i=a.TALKING_RIGHT_Y;this.serif.is_right_talking()?(e-=a.TALKER_MOVE_PX,i-=a.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.right_image());t.drawImage(n,e,i,n.width*a.CHARA_SIZE_RATIO,n.height*a.CHARA_SIZE_RATIO),t.restore()},h.prototype._showLeftChara=function(){var t=this.game.surface;t.save();var e=a.TALKING_LEFT_X,i=a.TALKING_LEFT_Y;this.serif.is_left_talking()?(e-=-a.TALKER_MOVE_PX,i-=a.TALKER_MOVE_PX):t.globalAlpha=.5;var n=this.game.getImage(this.serif.left_image());t.transform(-1,0,0,1,n.width*a.CHARA_SIZE_RATIO,0),t.drawImage(n,-e,i,n.width*a.CHARA_SIZE_RATIO,n.height*a.CHARA_SIZE_RATIO),t.restore()},h.prototype._showName=function(t,e,i){var n=this.game.surface;n.save();var s=this.game.getImage(t);n.drawImage(s,e,i,s.width*a.CHARA_SIZE_RATIO,s.height*a.CHARA_SIZE_RATIO),n.restore()},h.prototype._showMessageWindow=function(){var t=this.game.surface;t.save();var e=a.TALKING_SERIF_WINDOW_X,i=a.TALKING_SERIF_WINDOW_Y,n=this.game.getImage(this.serif.serif_window());this.serif.is_right_talking()&&(e=-e,t.transform(-1,0,0,1,n.width*a.CHARA_SIZE_RATIO,0)),t.drawImage(n,e,i,n.width*a.CHARA_SIZE_RATIO,n.height*a.CHARA_SIZE_RATIO),t.restore()},h.prototype._showMessage=function(){var t=this.game.surface;t.save(),t.font="18px 'Migu'",t.textAlign="left",t.textBaseAlign="middle",t.fillStyle="rgb( 0, 0, 0 )";var e,i=this.serif.lines();if(i.length){e=80;for(var n=0,s=i.length;s>n;n++)t.fillText(i[n],120,e),e+=30}t.restore()},e.exports=h},{"../../../config":1,"../../../constant":2,"../../../logic/serif":14,"../../../util":49,"./base":33}],37:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../../util"),a=(t("../../../config"),t("../../../constant")),o=t("../../../logic/enemy_appear"),r=t("../../../enemy/stage1"),h=function(t){n.apply(this,arguments),this.enemy_appear=new o(r)};s.inherit(h,n),h.prototype.init=function(){n.prototype.init.apply(this,arguments),this.stage.bullet_manager.init(),this.stage.item_manager.init(),this.enemy_appear.init()},h.prototype.run=function(){n.prototype.run.apply(this,arguments),60===this.frame_count&&this.game.playBGM("douchu");var t=this.stage.character;this.game.isKeyDown(a.BUTTON_Z)&&t.shot(),this.game.isKeyPush(a.BUTTON_X);var e=this.game.isKeyDown(a.BUTTON_Z);this.game.isKeyDown(a.BUTTON_LEFT)&&t.moveLeft(e),this.game.isKeyDown(a.BUTTON_RIGHT)&&t.moveRight(e),this.game.isKeyDown(a.BUTTON_DOWN)&&t.moveDown(e),this.game.isKeyDown(a.BUTTON_UP)&&t.moveUp(e),t.forbidOutOfStage(),this.game.isKeyDown(a.BUTTON_LEFT)&&!this.game.isKeyDown(a.BUTTON_RIGHT)?t.animateLeft():this.game.isKeyDown(a.BUTTON_RIGHT)&&!this.game.isKeyDown(a.BUTTON_LEFT)?t.animateRight():t.animateNeutral(),this.stage.item_manager.checkCollisionWithObject(t),0===Number(document.getElementById("invincible").value)&&(this.stage.enemy_manager.checkCollisionWithObject(t),this.stage.bullet_manager.checkCollisionWithObject(t)),this.stage.enemy_manager.checkCollisionWithManager(this.stage.shot_manager),this.stage.bullet_manager.checkGrazeWithObject(t),this.stage.item_manager.checkGrazeWithObject(t);for(var i=this.enemy_appear.get(this.frame_count),s=0,o=i.length;o>s;s++)this.stage.enemy_manager.create(i[s]);this.stage.bullet_manager.run(),this.stage.item_manager.run()},h.prototype.updateDisplay=function(){this.stage.bullet_manager.updateDisplay(),this.stage.item_manager.updateDisplay()},e.exports=h},{"../../../config":1,"../../../constant":2,"../../../enemy/stage1":8,"../../../logic/enemy_appear":11,"../../../util":49,"./base":33}],38:[function(t,e,i){"use strict";var n=t("./base"),s=t("../util"),a=t("../constant"),o=t("../config"),r=100,h=50,c=function(t){n.apply(this,arguments)};s.inherit(c,n),c.prototype.init=function(){n.prototype.init.apply(this,arguments)},c.prototype.run=function(){n.prototype.run.apply(this,arguments),60===this.frame_count&&this.game.playBGM("title"),this.game.isKeyPush(a.BUTTON_Z)&&(this.game.playSound("select"),this.game.notifyTitleDone())},c.prototype.updateDisplay=function(){this.game.clearCanvas();var t=this.game.surface;t.save(),this.frame_count<r?t.globalAlpha=this.frame_count/r:t.globalAlpha=1;var e=this.game.getImage("title_bg"),i=this.game.getImage("press_z");t.drawImage(e,0,0,e.width,e.height,0,0,this.game.width,this.game.height),Math.floor(this.frame_count/h)%2===0&&t.drawImage(i,248,247,i.width*o.CHARA_SIZE_RATIO,i.height*o.CHARA_SIZE_RATIO),t.restore()},e.exports=c},{"../config":1,"../constant":2,"../util":49,"./base":25}],39:[function(t,e,i){"use strict";var n=[];e.exports=n},{}],40:[function(t,e,i){"use strict";var n=["私は博麗神社を目指していた。","「約束を守りなさい」","耳の奥で彼女の言葉が蘇る。","落ち着いた、私と瓜二つの声…。","彼女との出会いは、","ほんの15分ほど前のことだった。"].join("\n");e.exports=n},{}],41:[function(t,e,i){"use strict";var n=[{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:null},{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:"早朝の散歩も良いものね。"},{pos:"right",exp:null,chara:null,fukidashi:"normal",serif:"…約束を守りなさい。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"ん…誰？\n誰かいるの？"},{pos:"right",exp:"normal",chara:"hatena",fukidashi:null,serif:"　"},{pos:"right",exp:"owata",chara:"hatena",fukidashi:"orange",serif:"わたしです"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"なんだ私か。"},{pos:"right",exp:"normal",chara:"hatena",fukidashi:"normal",serif:"え…。\nちょっとは驚きなさいよ。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"驚いたわよ。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"で、貴方誰なの？\n見たところ、私に\nそっくりだけど。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"orange",serif:"…ひょっとして、\nドッペルゲンガーってやつ？"},{pos:"right",exp:"normal",chara:"ganger",fukidashi:"normal",serif:"そのようなものね。\nそんなことより、\n貴方に大事な話があるの。"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:"なにかしら。"},{pos:"right",exp:"normal",chara:"ganger",fukidashi:"normal",serif:"約束を守りなさい。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"約束？\n何か約束してたっけ。"},{pos:"right",exp:"normal",chara:"ganger",fukidashi:"normal",serif:"ほら、博麗神社に…。"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"orange",serif:"あぁ、そういえば前に\nメリーと約束してたわ。"},{pos:"right",exp:null,chara:null,fukidashi:null,serif:null},{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:"博麗神社の入り口を\n調べようって。\nそのことかしら？"},{pos:"right",exp:"normal",chara:"merry",fukidashi:"orange",serif:"蓮子？\nこんなところで何してるの？"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"orange",serif:"あ、噂をすれば。\nメリー、見て！\n私のドッペルゲンガーが…"},{pos:"right",exp:"normal",chara:null,fukidashi:"normal",serif:null},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"あれ？いない…。"},{pos:"right",exp:"normal",chara:"merry",fukidashi:"normal",serif:"どうしたの？"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"それが、\nかくかくしかじかで。"},{pos:"right",exp:"normal",chara:"merry",fukidashi:"normal",serif:"ふーん。"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:"覚えてる？前に博霊神社の\n入り口を調べようって\n約束してたこと。"},{pos:"right",exp:"normal",chara:"merry",fukidashi:"normal",serif:"そうだっけ？"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"orange",serif:"ねえ、今から行ってみない？"},{pos:"right",exp:"trouble",chara:"merry",fukidashi:"normal",serif:"今から？面倒だわ…。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"なんだか気になるのよ。"},{pos:"right",exp:"disappointed",chara:"merry",fukidashi:"normal",serif:"うっ…急にめまいと頭痛が。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"絶対嘘でしょ、それ。"},{pos:"right",exp:"disappointed",chara:"merry",fukidashi:"normal",serif:"全身の骨が折れてるかも。"},{pos:"left",exp:"surprised",chara:"renko",fukidashi:"purple",serif:"さっきまで\n元気だったじゃない！"},{pos:"right",exp:"trouble",chara:"merry",fukidashi:"normal",serif:"うーん、気が進まないわ。"},{pos:"left",exp:"disappointed",chara:"renko",fukidashi:"normal",serif:"はぁ…。そんなに嫌なら\n仕方ないわね。\n私一人で行ってくるわ。"}];e.exports=n},{}],42:[function(t,e,i){"use strict";var n=[{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:null},{pos:"right",exp:"dissatisfied",chara:"aya",fukidashi:"normal",serif:"なんだ、ただの迷子ですか。\n記事にもなりませんね。"},{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"博麗神社に行きたいの。"},{pos:"right",exp:"normal",chara:"aya",fukidashi:"normal",serif:"神社？"},{pos:"right",exp:"smile",chara:"aya",fukidashi:"orange",serif:"この道をダーって行って\nキュって曲がってギャーン\nって行けばすぐですよ。"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"orange",serif:"この道をダーって行って\nキュって曲がってギャーン\nね。ありがとう！"}];e.exports=n},{}],43:[function(t,e,i){"use strict";var n=[{pos:"left",exp:"calm",chara:"renko",fukidashi:"normal",serif:"見覚えのない場所に\n来てしまったわ。\n道に迷ったようね。"},{pos:"right",exp:"smile",chara:"aya",fukidashi:"orange",serif:"あやややや。\n挙動の不審な人間を\n発見しました！"},{pos:"left",exp:"normal",chara:"renko",fukidashi:"normal",serif:"あぁ、ちょうど良かったわ。\n博麗神社へはどう行けば…"},{pos:"right",exp:"smile",chara:"aya",fukidashi:"orange",serif:"早速、取材してみようと\n思います！"},{pos:"left",exp:"trouble",chara:"renko",fukidashi:"normal",serif:"もしもーし？"}];e.exports=n},{}],44:[function(t,e,i){"use strict";var n=[{image:"shot",indexX:0,indexY:2,width:20,height:20,collisionWidth:15,collisionHeight:15,is_rotate:!1,is_penetration:!1},{image:"shot",indexX:4,indexY:1,width:64,height:64,collisionWidth:64,collisionHeight:64,is_rotate:!1,is_penetration:!0}];e.exports=n},{}],45:[function(t,e,i){"use strict";var n=12,s=45,a=t("../stage1/base"),o=t("../../util"),r=function(t){a.apply(this,arguments)};o.inherit(r,a),r.prototype.init=function(){a.prototype.init.apply(this,arguments)},r.prototype.run=function(){if(a.prototype.run.apply(this,arguments),!this.isSpellStarting()&&this.frame_count%s===0){for(var t=0;n>t;t++)this.stage.shot_manager.create(1,this.stage.character.x,this.stage.character.y,{r:0,theta:(360/n|0)*t,ra:.05,raa:.01});this.game.playSound("boss_shot_big")}},r.prototype.name=function(){return"蓮子スペルカード1"},r.prototype.charaImage=function(){return"renko_normal"},e.exports=r},{"../../util":49,"../stage1/base":46}],46:[function(t,e,i){"use strict";var n=t("../../config"),s=t("../../constant"),a=33,o=1,r=332,h=30,c=10,l=45,u=5,p=function(t){this.frame_count=0,this.boss=t,this.stage=t.stage,this.game=t.stage.game,this.x=0,this.y=0,this.state=null};p.prototype.init=function(){this.frame_count=0,this.x=0,this.y=r,this.changeState(s.SPELLCARD_START_STATE)},p.prototype.isSpellExecute=function(){return this.state===s.SPELLCARD_EXEC_STATE?!0:!1},p.prototype.isSpellStarting=function(){return this.state===s.SPELLCARD_START_STATE?!0:!1},p.prototype.changeState=function(t){this.state=t},p.prototype.run=function(){this.frame_count++,this.isSpellStarting()&&(this.frame_count<h||(this.frame_count===h?this.game.playSound("spellcard"):h<this.frame_count&&this.frame_count<=h+c?this.x+=a:h+c<this.frame_count&&this.frame_count<=h+c+l?this.x+=o:h+c+l<this.frame_count&&this.frame_count<=h+c+l+u?this.x+=a:this.changeState(s.SPELLCARD_EXEC_STATE)))},p.prototype.updateDisplay=function(){if(this.isSpellStarting()&&!(this.frame_count<=h)){var t=this.game.surface,e=this.game.getImage(this.charaImage());t.save();var i=e.width*n.CHARA_SIZE_RATIO,s=e.height*n.CHARA_SIZE_RATIO;t.translate(this.x,this.y),t.globalAlpha=.7,t.drawImage(e,0,0,e.width,e.height,-i/2,-s/2,i,s),t.restore()}},p.prototype.name=function(){console.log("Spell's name method must be implemented")},p.prototype.charaImage=function(){console.log("Spell's charaImage method must be implemented")},p.prototype.shot=function(t,e,i,n,s,a){this.stage.bullet_manager.create(t,e,i,n,s,a)},e.exports=p},{"../../config":1,"../../constant":2}],47:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../util"),a=(t("../../constant"),function(t){n.apply(this,arguments),this.shot_thetas1=[0,60,120,180,240,300],this.shot_thetas2=[0,60,120,180,240,300],this.maru_shot_theta=0,this.add_shot_theta=10,this.r=1.5,this.uzumaki_percount=15,this.maru_percount=75,this.maru_shot_pertheta=12});s.inherit(a,n),a.prototype.init=function(){n.prototype.init.apply(this,arguments),this.is_moving=!0},a.prototype.run=function(){if(n.prototype.run.apply(this,arguments),!this.isSpellStarting())if(this.is_moving){var t=this.stage.width/2-this.boss.x,e=this.stage.height/2-this.boss.y,i=this._radian_to_theta(Math.atan2(e,t));this.boss.animateRight(),this.boss.moveByTheta(i),Math.floor(this.boss.x)===Math.floor(this.stage.width/2)&&Math.floor(this.boss.y)===Math.floor(this.stage.height/2)&&(this.is_moving=!1,this.boss.animateNeutral())}else if(this.frame_count%this.uzumaki_percount===0&&(this.uzumaki_shot1(),this.uzumaki_shot2(),this.game.playSound("boss_shot_small")),this.frame_count%this.maru_percount===0){this.aimedToChara();for(var s=0;s<360/this.maru_shot_pertheta;s++)this.maru_shot(),this.maru_shot_theta+=this.maru_shot_pertheta;this.game.playSound("boss_shot_big")}},a.prototype.uzumaki_shot1=function(){for(var t=this.boss.x,e=this.boss.y,i=this.r,n=0;n<this.shot_thetas1.length;n++){var s=this.shot_thetas1[n];this.shot(0,t,e,{r:i,theta:s}),this.shot_thetas1[n]+=this.add_shot_theta}},a.prototype.uzumaki_shot2=function(){for(var t=this.boss.x,e=this.boss.y,i=this.r,n=0;n<this.shot_thetas2.length;n++){var s=this.shot_thetas2[n];this.shot(0,t,e,{r:i,theta:s}),this.shot_thetas2[n]-=this.add_shot_theta}},a.prototype.maru_shot=function(){var t=this.boss.x,e=this.boss.y,i=this.maru_shot_theta,n=this.r;this.shot(4,t,e,{r:n,theta:i})},a.prototype.aimedToChara=function(){var t=this.stage.character,e=t.x-this.boss.x,i=t.y-this.boss.y;this.maru_shot_theta=this._radian_to_theta(Math.atan2(i,e))},a.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},a.prototype.name=function(){return"風符「天狗風」"},a.prototype.charaImage=function(){return"aya_normal"},e.exports=a},{"../../constant":2,"../../util":49,"./base":46}],48:[function(t,e,i){"use strict";var n=t("./base"),s=t("../../util"),a=(t("../../constant"),function(t){n.apply(this,arguments),this.maru_shot_theta=0,this.r=1.5,this.maru_percount1=100,this.maru_shot_pertheta=10});s.inherit(a,n),a.prototype.init=function(){n.prototype.init.apply(this,arguments)},a.prototype.run=function(){if(n.prototype.run.apply(this,arguments),!this.isSpellStarting()){var t=600,e=this.frame_count%3600;if(e>=t&&t+60>e)this.boss.moveLeft(),this.boss.animateLeft();else if(e>=2*t+60&&2*t+120>e)this.boss.moveRight(),this.boss.moveDown(),this.boss.animateRight();else if(e>=3*t+120&&3*t+180>e)this.boss.moveRight(),this.boss.moveUp(),this.boss.animateRight();else if(e>=4*t+180&&4*t+240>e)this.boss.moveLeft(),this.boss.animateLeft();else{if(this.frame_count%this.maru_percount1===0||this.frame_count%this.maru_percount1===10||this.frame_count%this.maru_percount1===20){this.aimedToChara();for(var i=0;i<360/this.maru_shot_pertheta;i++)this.maru_shot(),this.maru_shot_theta+=this.maru_shot_pertheta;this.game.playSound("boss_shot_big")}this.boss.animateNeutral()}}},a.prototype.maru_shot=function(){var t=this.boss.x,e=this.boss.y,i=this.maru_shot_theta,n=this.r;this.shot(3,t,e,{r:n,theta:i})},a.prototype.aimedToChara=function(){var t=this.stage.character,e=t.x-this.boss.x,i=t.y-this.boss.y;this.maru_shot_theta=this._radian_to_theta(Math.atan2(i,e))},a.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},a.prototype.name=function(){return"風符「天狗風」"},a.prototype.charaImage=function(){return"aya_normal"},e.exports=a},{"../../constant":2,"../../util":49,"./base":46}],49:[function(t,e,i){"use strict";var n={inherit:function(t,e){var i=function(t){if(Object.create)return Object.create(t);var e=function(){};return e.prototype=t,new e};t.prototype=i(e.prototype),t.prototype.constructor=t}};e.exports=n},{}],50:[function(t,e,i){(function(t){(function(t,e,i,n,s){this.createjs=this.createjs||{},function(){var t=function(){throw"UID cannot be instantiated"};t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Ticker cannot be instantiated."};t.useRAF=null,t._listeners=null,t._pauseable=null,t._paused=!1,t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._rafActive=!1,t._timeoutID=null,t.addListener=function(e,i){null!=e&&(t._inited||t.init(),t.removeListener(e),t._pauseable[t._listeners.length]=null==i?!0:i,t._listeners.push(e))},t.init=function(){t._inited=!0,t._times=[],t._tickTimes=[],t._pauseable=[],t._listeners=[],t._times.push(t._lastTime=t._startTime=t._getTime()),t.setInterval(t._interval)},t.removeListener=function(e){var i=t._listeners;i&&(e=i.indexOf(e),-1!=e&&(i.splice(e,1),t._pauseable.splice(e,1)))},t.removeAllListeners=function(){t._listeners=[],t._pauseable=[]},t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval},t.getMeasuredFPS=function(e){return t._times.length<2?-1:(null==e&&(e=0|t.getFPS()),e=Math.min(t._times.length-1,e),1e3/((t._times[0]-t._times[e])/e))},t.setPaused=function(e){t._paused=e},t.getPaused=function(){return t._paused},t.getTime=function(e){return t._getTime()-t._startTime-(e?t._pausedTime:0)},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleAF=function(){t._rafActive=!1,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleTimeout=function(){t.timeoutID=null,t._setupTick(),t._tick()},t._setupTick=function(){if(!t._rafActive&&null==t.timeoutID){if(t.useRAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return e(t._handleAF),void(t._rafActive=!0)}t.timeoutID=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t._getTime();t._ticks++;var i=e-t._lastTime,n=t._paused;n&&(t._pausedTicks++,t._pausedTime+=i),t._lastTime=e;for(var s=t._pauseable,a=t._listeners.slice(),o=a?a.length:0,r=0;o>r;r++){var h=a[r];null==h||n&&s[r]||(h.tick?h.tick(i,n):h instanceof Function&&h(i,n))}for(t._tickTimes.unshift(t._getTime()-e);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(e);t._times.length>100;)t._times.pop()};var e=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return e&&e.call(performance)||(new Date).getTime()},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,a,o,r,h){this.initialize(t,e,i,n,s,a,o,r,h)},e=t.prototype;e.stageX=0,e.stageY=0,e.rawX=0,e.rawY=0,e.type=null,e.nativeEvent=null,e.onMouseMove=null,e.onMouseUp=null,e.target=null,e.pointerID=0,e.primary=!1,e.initialize=function(t,e,i,n,s,a,o,r,h){this.type=t,this.stageX=e,this.stageY=i,this.target=n,this.nativeEvent=s,this.pointerID=a,this.primary=o,this.rawX=null==r?e:r,this.rawY=null==h?i:h},e.clone=function(){return new t(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,a){this.initialize(t,e,i,n,s,a)},e=t.prototype;t.identity=null,t.DEG_TO_RAD=Math.PI/180,e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.alpha=1,e.shadow=null,e.compositeOperation=null,e.initialize=function(t,e,i,n,s,a){return null!=t&&(this.a=t),this.b=e||0,this.c=i||0,null!=n&&(this.d=n),this.tx=s||0,this.ty=a||0,this},e.prepend=function(t,e,i,n,s,a){var o=this.tx;if(1!=t||0!=e||0!=i||1!=n){var r=this.a,h=this.c;this.a=r*t+this.b*i,this.b=r*e+this.b*n,this.c=h*t+this.d*i,this.d=h*e+this.d*n}return this.tx=o*t+this.ty*i+s,this.ty=o*e+this.ty*n+a,this},e.append=function(t,e,i,n,s,a){var o=this.a,r=this.b,h=this.c,c=this.d;return this.a=t*o+e*h,this.b=t*r+e*c,this.c=i*o+n*h,this.d=i*r+n*c,this.tx=s*o+a*h+this.tx,this.ty=s*r+a*c+this.ty,this},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},e.prependTransform=function(e,i,n,s,a,o,r,h,c){
if(a%360)var l=a*t.DEG_TO_RAD,a=Math.cos(l),l=Math.sin(l);else a=1,l=0;return(h||c)&&(this.tx-=h,this.ty-=c),o||r?(o*=t.DEG_TO_RAD,r*=t.DEG_TO_RAD,this.prepend(a*n,l*n,-l*s,a*s,0,0),this.prepend(Math.cos(r),Math.sin(r),-Math.sin(o),Math.cos(o),e,i)):this.prepend(a*n,l*n,-l*s,a*s,e,i),this},e.appendTransform=function(e,i,n,s,a,o,r,h,c){if(a%360)var l=a*t.DEG_TO_RAD,a=Math.cos(l),l=Math.sin(l);else a=1,l=0;return o||r?(o*=t.DEG_TO_RAD,r*=t.DEG_TO_RAD,this.append(Math.cos(r),Math.sin(r),-Math.sin(o),Math.cos(o),e,i),this.append(a*n,l*n,-l*s,a*s,0,0)):this.append(a*n,l*n,-l*s,a*s,e,i),(h||c)&&(this.tx-=h*this.a+c*this.c,this.ty-=h*this.b+c*this.d),this},e.rotate=function(t){var e=Math.cos(t),t=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*t,this.b=i*t+this.b*e,this.c=n*e-this.d*t,this.d=n*t+this.d*e,this.tx=s*e-this.ty*t,this.ty=s*t+this.ty*e,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.d*=e,this.tx*=t,this.ty*=e,this},e.translate=function(t,e){return this.tx+=t,this.ty+=e,this},e.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,a=t*n-e*i;return this.a=n/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-n*s)/a,this.ty=-(t*this.ty-e*s)/a,this},e.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return i==n?(e.rotation=n/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},e.reinitialize=function(t,e,i,n,s,a,o,r,h){return this.initialize(t,e,i,n,s,a),this.alpha=o||1,this.shadow=r,this.compositeOperation=h,this},e.appendProperties=function(t,e,i){return this.alpha*=t,this.shadow=e||this.shadow,this.compositeOperation=i||this.compositeOperation,this},e.prependProperties=function(t,e,i){return this.alpha*=t,this.shadow=this.shadow||e,this.compositeOperation=this.compositeOperation||i,this},e.clone=function(){var e=new t(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.shadow=this.shadow,e.alpha=this.alpha,e.compositeOperation=this.compositeOperation,e},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t(1,0,0,1,0,0),createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.initialize(t,e)},e=t.prototype;e.x=0,e.y=0,e.initialize=function(t,e){this.x=null==t?0:t,this.y=null==e?0:e},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;e.x=0,e.y=0,e.width=0,e.height=0,e.initialize=function(t,e,i,n){this.x=null==t?0:t,this.y=null==e?0:e,this.width=null==i?0:i,this.height=null==n?0:n},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;t.identity=null,e.color=null,e.offsetX=0,e.offsetY=0,e.blur=0,e.initialize=function(t,e,i,n){this.color=t,this.offsetX=e,this.offsetY=i,this.blur=n},e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},t.identity=new t("transparent",0,0,0),createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype;e.complete=!0,e.onComplete=null,e._animations=null,e._frames=null,e._images=null,e._data=null,e._loadCount=0,e._frameHeight=0,e._frameWidth=0,e._numFrames=0,e._regX=0,e._regY=0,e.initialize=function(t){var e,i,n;if(null!=t){if(t.images&&(i=t.images.length)>0)for(n=this._images=[],e=0;i>e;e++){var s=t.images[e];if("string"==typeof s){var a=s,s=new Image;s.src=a}n.push(s),s.getContext||s.complete||(this._loadCount++,this.complete=!1,function(t){s.onload=function(){t._handleImageLoad()}}(this))}if(null!=t.frames)if(t.frames instanceof Array)for(this._frames=[],n=t.frames,e=0,i=n.length;i>e;e++)a=n[e],this._frames.push({image:this._images[a[4]?a[4]:0],rect:new createjs.Rectangle(a[0],a[1],a[2],a[3]),regX:a[5]||0,regY:a[6]||0});else i=t.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(null!=(i=t.animations)){this._animations=[],this._data={};for(var o in i){if(t={name:o},a=i[o],isNaN(a))if(a instanceof Array)for(t.frequency=a[3],t.next=a[2],n=t.frames=[],e=a[0];e<=a[1];e++)n.push(e);else t.frequency=a.frequency,t.next=a.next,e=a.frames,n=t.frames=isNaN(e)?e.slice(0):[e];else n=t.frames=[a];t.next=n.length<2||0==t.next?null:null==t.next||1==t.next?o:t.next,t.frequency||(t.frequency=1),this._animations.push(o),this._data[o]=t}}}},e.getNumFrames=function(t){return null==t?this._frames?this._frames.length:this._numFrames:(t=this._data[t],null==t?0:t.frames.length)},e.getAnimations=function(){return this._animations.slice(0)},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){return this.complete&&this._frames&&(frame=this._frames[t])?frame:null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){var e=new t;return e.complete=this.complete,e._animations=this._animations,e._frames=this._frames,e._images=this._images,e._data=this._data,e._frameHeight=this._frameHeight,e._frameWidth=this._frameWidth,e._numFrames=this._numFrames,e._loadCount=this._loadCount,e},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete())},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var t=0,e=this._frameWidth,i=this._frameHeight,n=0,s=this._images;n<s.length;n++){for(var a=s[n],o=(a.width+1)/e|0,r=(a.height+1)/i|0,r=this._numFrames>0?Math.min(this._numFrames-t,o*r):o*r,h=0;r>h;h++)this._frames.push({image:a,rect:new createjs.Rectangle(h%o*e,(h/o|0)*i,e,i),regX:this._regX,regY:this._regY});t+=r}this._numFrames=t}},createjs.SpriteSheet=t}(),this.createjs=this.createjs||{},function(){function t(t,e,i){this.f=t,this.params=e,this.path=null==i?!0:i}t.prototype.exec=function(t){this.f.apply(t,this.params)};var e=function(){this.initialize()},i=e.prototype;e.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=t>>8&255,t=t>>16&255),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},e.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+n+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"],e._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),e.beginCmd=new t(e._ctx.beginPath,[],!1),e.fillCmd=new t(e._ctx.fill,[],!1),e.strokeCmd=new t(e._ctx.stroke,[],!1),i._strokeInstructions=null,i._strokeStyleInstructions=null,i._fillInstructions=null,i._instructions=null,i._oldInstructions=null,i._activeInstructions=null,i._active=!1,i._dirty=!1,i.initialize=function(){this.clear(),this._ctx=e._ctx},i.draw=function(t){this._dirty&&this._updateInstructions();for(var e=this._instructions,i=0,n=e.length;n>i;i++)e[i].exec(t)},i.drawAsPath=function(t){this._dirty&&this._updateInstructions();for(var e,i=this._instructions,n=0,s=i.length;s>n;n++)((e=i[n]).path||0==n)&&e.exec(t)},i.moveTo=function(e,i){return this._activeInstructions.push(new t(this._ctx.moveTo,[e,i])),this},i.lineTo=function(e,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.lineTo,[e,i])),this},i.arcTo=function(e,i,n,s,a){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.arcTo,[e,i,n,s,a])),this},i.arc=function(e,i,n,s,a,o){return this._dirty=this._active=!0,null==o&&(o=!1),this._activeInstructions.push(new t(this._ctx.arc,[e,i,n,s,a,o])),this},i.quadraticCurveTo=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[e,i,n,s])),this},i.bezierCurveTo=function(e,i,n,s,a,o){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[e,i,n,s,a,o])),this},i.rect=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.rect,[e,i,n,s])),this},i.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[]))),this},i.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null,this._active=this._dirty=!1,this},i.beginFill=function(e){return this._active&&this._newPath(),this._fillInstructions=e?[new t(this._setProp,["fillStyle",e],!1)]:null,this},i.beginLinearGradientFill=function(e,i,n,s,a,o){for(this._active&&this._newPath(),n=this._ctx.createLinearGradient(n,s,a,o),s=0,a=e.length;a>s;s++)n.addColorStop(i[s],e[s]);return this._fillInstructions=[new t(this._setProp,["fillStyle",n],!1)],this},i.beginRadialGradientFill=function(e,i,n,s,a,o,r,h){for(this._active&&this._newPath(),n=this._ctx.createRadialGradient(n,s,a,o,r,h),s=0,a=e.length;a>s;s++)n.addColorStop(i[s],e[s]);return this._fillInstructions=[new t(this._setProp,["fillStyle",n],!1)],this},i.beginBitmapFill=function(e,i){this._active&&this._newPath();var n=this._ctx.createPattern(e,i||"");return this._fillInstructions=[new t(this._setProp,["fillStyle",n],!1)],this},i.endFill=function(){return this.beginFill()},i.setStrokeStyle=function(i,n,s,a){return this._active&&this._newPath(),this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",null==i?"1":i],!1),new t(this._setProp,["lineCap",null==n?"butt":isNaN(n)?n:e.STROKE_CAPS_MAP[n]],!1),new t(this._setProp,["lineJoin",null==s?"miter":isNaN(s)?s:e.STROKE_JOINTS_MAP[s]],!1),new t(this._setProp,["miterLimit",null==a?"10":a],!1)],this},i.beginStroke=function(e){return this._active&&this._newPath(),this._strokeInstructions=e?[new t(this._setProp,["strokeStyle",e],!1)]:null,this},i.beginLinearGradientStroke=function(e,i,n,s,a,o){for(this._active&&this._newPath(),n=this._ctx.createLinearGradient(n,s,a,o),s=0,a=e.length;a>s;s++)n.addColorStop(i[s],e[s]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",n],!1)],this},i.beginRadialGradientStroke=function(e,i,n,s,a,o,r,h){for(this._active&&this._newPath(),n=this._ctx.createRadialGradient(n,s,a,o,r,h),s=0,a=e.length;a>s;s++)n.addColorStop(i[s],e[s]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",n],!1)],this},i.beginBitmapStroke=function(e,i){this._active&&this._newPath();var n=this._ctx.createPattern(e,i||"");return this._strokeInstructions=[new t(this._setProp,["strokeStyle",n],!1)],this},i.endStroke=function(){return this.beginStroke(),this},i.curveTo=i.quadraticCurveTo,i.drawRect=i.rect,i.drawRoundRect=function(t,e,i,n,s){return this.drawRoundRectComplex(t,e,i,n,s,s,s,s),this},i.drawRoundRectComplex=function(e,i,n,s,a,o,r,h){var c=(s>n?n:s)/2,l=0,u=0,p=0,_=0;0>a&&(a*=l=-1),a>c&&(a=c),0>o&&(o*=u=-1),o>c&&(o=c),0>r&&(r*=p=-1),r>c&&(r=c),0>h&&(h*=_=-1),h>c&&(h=c),this._dirty=this._active=!0;var c=this._ctx.arcTo,d=this._ctx.lineTo;return this._activeInstructions.push(new t(this._ctx.moveTo,[e+n-o,i]),new t(c,[e+n+o*u,i-o*u,e+n,i+o,o]),new t(d,[e+n,i+s-r]),new t(c,[e+n+r*p,i+s+r*p,e+n-r,i+s,r]),new t(d,[e+h,i+s]),new t(c,[e-h*_,i+s+h*_,e,i+s-h,h]),new t(d,[e,i+a]),new t(c,[e-a*l,i-a*l,e+a,i,a]),new t(this._ctx.closePath)),this},i.drawCircle=function(t,e,i){return this.arc(t,e,i,0,2*Math.PI),this},i.drawEllipse=function(e,i,n,s){this._dirty=this._active=!0;var a=n/2*.5522848,o=s/2*.5522848,r=e+n,h=i+s,n=e+n/2,s=i+s/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[e,s]),new t(this._ctx.bezierCurveTo,[e,s-o,n-a,i,n,i]),new t(this._ctx.bezierCurveTo,[n+a,i,r,s-o,r,s]),new t(this._ctx.bezierCurveTo,[r,s+o,n+a,h,n,h]),new t(this._ctx.bezierCurveTo,[n-a,h,e,s+o,e,s])),this},i.drawPolyStar=function(e,i,n,s,a,o){this._dirty=this._active=!0,null==a&&(a=0),a=1-a,null==o?o=0:o/=180/Math.PI;var r=Math.PI/s;this._activeInstructions.push(new t(this._ctx.moveTo,[e+Math.cos(o)*n,i+Math.sin(o)*n]));for(var h=0;s>h;h++)o+=r,1!=a&&this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(o)*n*a,i+Math.sin(o)*n*a])),o+=r,this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(o)*n,i+Math.sin(o)*n]));return this},i.decodePath=function(t){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],n=[2,2,4,6],s=0,a=t.length,o=[],r=0,h=0,c=e.BASE_64;a>s;){var l=t.charAt(s),u=c[l],p=u>>3,_=i[p];if(!_||3&u)throw"bad path data (@"+s+"): "+l;for(l=n[p],p||(r=h=0),o.length=0,s++,u=(u>>2&1)+2,p=0;l>p;p++){var d=c[t.charAt(s)],f=d>>5?-1:1,d=(31&d)<<6|c[t.charAt(s+1)];3==u&&(d=d<<6|c[t.charAt(s+2)]),d=f*d/10,p%2?r=d+=r:h=d+=h,o[p]=d,s+=u}_.apply(this,o)}return this},i.clone=function(){var t=new e;return t._instructions=this._instructions.slice(),t._activeInstructions=this._activeInstructions.slice(),t._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(t._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(t._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(t._strokeStyleInstructions=this._strokeStyleInstructions.slice()),t._active=this._active,t._dirty=this._dirty,t.drawAsPath=this.drawAsPath,t},i.toString=function(){return"[Graphics]"},i.mt=i.moveTo,i.lt=i.lineTo,i.at=i.arcTo,i.bt=i.bezierCurveTo,i.qt=i.quadraticCurveTo,i.a=i.arc,i.r=i.rect,i.cp=i.closePath,i.c=i.clear,i.f=i.beginFill,i.lf=i.beginLinearGradientFill,i.rf=i.beginRadialGradientFill,i.bf=i.beginBitmapFill,i.ef=i.endFill,i.ss=i.setStrokeStyle,i.s=i.beginStroke,i.ls=i.beginLinearGradientStroke,i.rs=i.beginRadialGradientStroke,i.bs=i.beginBitmapStroke,i.es=i.endStroke,i.dr=i.drawRect,i.rr=i.drawRoundRect,i.rc=i.drawRoundRectComplex,i.dc=i.drawCircle,i.de=i.drawEllipse,i.dp=i.drawPolyStar,i.p=i.decodePath,i._updateInstructions=function(){this._instructions=this._oldInstructions.slice(),this._instructions.push(e.beginCmd),this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions),this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions)),this._instructions.push.apply(this._instructions,this._activeInstructions),this._fillInstructions&&this._instructions.push(e.fillCmd),this._strokeInstructions&&this._instructions.push(e.strokeCmd)},i._getEllipseArc=function(e,i,n,s){var a=n/2*.5522848,o=s/2*.5522848,r=e+n,h=i+s,n=e+n/2,s=i+s/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[e,s]),new t(this._ctx.bezierCurveTo,[e,s-o,n-a,i,n,i]),new t(this._ctx.bezierCurveTo,[n+a,i,r,s-o,r,s]),new t(this._ctx.bezierCurveTo,[r,s+o,n+a,h,n,h]),new t(this._ctx.bezierCurveTo,[n-a,h,e,s+o,e,s])),this},i._newPath=function(){this._dirty&&this._updateInstructions(),this._oldInstructions=this._instructions,this._activeInstructions=[],this._active=this._dirty=!1},i._setProp=function(t,e){this[t]=e},createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.suppressCrossDomainErrors=!1,t._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t._hitTestCanvas.width=t._hitTestCanvas.height=1,t._hitTestContext=t._hitTestCanvas.getContext("2d"),t._nextCacheID=1,e.alpha=1,e.cacheCanvas=null,e.id=-1,e.mouseEnabled=!0,e.name=null,e.parent=null,e.regX=0,e.regY=0,e.rotation=0,e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.shadow=null,e.visible=!0,e.x=0,e.y=0,e.compositeOperation=null,e.snapToPixel=!1,e.onPress=null,e.onClick=null,e.onDoubleClick=null,e.onMouseOver=null,e.onMouseOut=null,e.onTick=null,e.filters=null,e.cacheID=0,e.mask=null,e.hitArea=null,e._cacheOffsetX=0,e._cacheOffsetY=0,e._cacheScale=1,e._cacheDataURLID=0,e._cacheDataURL=null,e._matrix=null,e.initialize=function(){this.id=createjs.UID.get(),this._matrix=new createjs.Matrix2D},e.isVisible=function(){return this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY},e.draw=function(t,e){var i=this.cacheCanvas;if(e||!i)return!1;var n=this._cacheScale;return t.drawImage(i,this._cacheOffsetX,this._cacheOffsetY,i.width/n,i.height/n),!0},e.updateContext=function(t){var e,i=this.mask;i&&i.graphics&&(e=i.getMatrix(i._matrix),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.graphics.drawAsPath(t),t.clip(),e.invert(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),e=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY),createjs.Stage._snapToPixelEnabled&&this.snapToPixel?t.transform(e.a,e.b,e.c,e.d,e.tx+.5|0,e.ty+.5|0):t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.alpha,this.compositeOperation&&(t.globalCompositeOperation=this.compositeOperation),this.shadow&&this._applyShadow(t,this.shadow)},e.cache=function(t,e,i,n,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this.cacheCanvas.width=Math.ceil(i*s),this.cacheCanvas.height=Math.ceil(n*s),this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=s||1,this.updateCache()},e.updateCache=function(e){var i=this.cacheCanvas,n=this._cacheOffsetX,s=this._cacheOffsetY,a=this._cacheScale;if(!i)throw"cache() must be called before updateCache()";var o=i.getContext("2d");o.save(),e||o.clearRect(0,0,i.width,i.height),o.globalCompositeOperation=e,o.setTransform(a,0,0,a,-n,-s),this.draw(o,!0),this._applyFilters(),o.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.getStage=function(){for(var t=this;t.parent;)t=t.parent;return t instanceof createjs.Stage?t:null},e.localToGlobal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.globalToLocal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.invert(),i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.localToLocal=function(t,e,i){return t=this.localToGlobal(t,e),i.globalToLocal(t.x,t.y)},e.setTransform=function(t,e,i,n,s,a,o,r,h){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=a||0,this.skewY=o||0,this.regX=r||0,this.regY=h||0,this},e.getMatrix=function(t){return(t?t.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)},e.getConcatenatedMatrix=function(t){t?t.identity():t=new createjs.Matrix2D;for(var e=this;null!=e;)t.prependTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY).prependProperties(e.alpha,e.shadow,e.compositeOperation),e=e.parent;return t},e.hitTest=function(e,i){var n=t._hitTestContext,s=t._hitTestCanvas;return n.setTransform(1,0,0,1,-e,-i),this.draw(n),n=this._testHit(n),s.width=0,s.width=1,n},e.clone=function(){var e=new t;return this.cloneProps(e),e},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e.cloneProps=function(t){t.alpha=this.alpha,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.mouseEnabled=this.mouseEnabled,t.compositeOperation=this.compositeOperation,this.cacheCanvas&&(t.cacheCanvas=this.cacheCanvas.cloneNode(!0),t.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){this.onTick&&(t?this.onTick.apply(this,t):this.onTick())},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(n){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;t>s;s++)this.filters[s].applyFilter(e,0,0,i,n)},createjs.DisplayObject=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype=new createjs.DisplayObject;e.children=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(){this.DisplayObject_initialize(),this.children=[]},e.isVisible=function(){return this.visible&&this.alpha>0&&this.children.length&&0!=this.scaleX&&0!=this.scaleY},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(0),n=0,s=i.length;s>n;n++){var a=i[n];a.isVisible()&&(t.save(),a.updateContext(t),a.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addChild(arguments[i]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t},e.addChildAt=function(t,e){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeChild(arguments[n]);return i}return this.removeChildAt(this.children.indexOf(t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],n=0;e>n;n++)i[n]=arguments[n];i.sort(function(t,e){return e-t});for(var s=!0,n=0;e>n;n++)s=s&&this.removeChildAt(i[n]);return s}return 0>t||t>this.children.length-1?!1:((e=this.children[t])&&(e.parent=null),this.children.splice(t,1),!0)},e.removeAllChildren=function(){for(var t=this.children;t.length;)t.pop().parent=null},e.getChildAt=function(t){return this.children[t]},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return this.children.indexOf(t)},e.getNumChildren=function(){return this.children.length},e.swapChildrenAt=function(t,e){var i=this.children,n=i[t],s=i[e];n&&s&&(i[t]=s,i[e]=n)},e.swapChildren=function(t,e){for(var i,n,s=this.children,a=0,o=s.length;o>a&&(s[a]==t&&(i=a),s[a]==e&&(n=a),null==i||null==n);a++);a!=o&&(s[i]=e,s[n]=t)},e.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||0>e||e>=n)){for(var s=0;n>s&&i[s]!=t;s++);s==n||s==e||(i.splice(s,1),s>e&&e--,i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e){var i=[],n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,i),i},e.getObjectUnderPoint=function(t,e){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y)},e.clone=function(e){var i=new t;if(this.cloneProps(i),e)for(var n=i.children=[],s=0,a=this.children.length;a>s;s++){var o=this.children[s].clone(e);o.parent=i,n.push(o)}return i},e.toString=function(){return"[Container (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._getObjectsUnderPoint=function(e,i,n,s){var a=createjs.DisplayObject._hitTestContext,o=createjs.DisplayObject._hitTestCanvas,r=this._matrix,h=1&s&&(this.onPress||this.onClick||this.onDoubleClick)||2&s&&(this.onMouseOver||this.onMouseOut);if(this.cacheCanvas&&h&&(this.getConcatenatedMatrix(r),a.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-i),a.globalAlpha=r.alpha,this.draw(a),this._testHit(a)))return o.width=0,o.width=1,this;for(var c=this.children.length-1;c>=0;c--){var l=this.children[c];if(l.isVisible()&&l.mouseEnabled)if(l instanceof t){if(h){if(l=l._getObjectsUnderPoint(e,i))return this}else if(l=l._getObjectsUnderPoint(e,i,n,s),!n&&l)return l}else if(!s||h||1&s&&(l.onPress||l.onClick||l.onDoubleClick)||2&s&&(l.onMouseOver||l.onMouseOut)){var u=l.hitArea;if(l.getConcatenatedMatrix(r),u&&(r.appendTransform(u.x+l.regX,u.y+l.regY,u.scaleX,u.scaleY,u.rotation,u.skewX,u.skewY,u.regX,u.regY),r.alpha*=u.alpha/l.alpha),a.globalAlpha=r.alpha,a.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-i),(u||l).draw(a),this._testHit(a)){if(o.width=0,o.width=1,h)return this;if(!n)return l;n.push(l)}}}return null},createjs.Container=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Container;t._snapToPixelEnabled=!1,e.autoClear=!0,e.canvas=null,e.mouseX=0,e.mouseY=0,e.onMouseMove=null,e.onMouseUp=null,e.onMouseDown=null,e.snapToPixelEnabled=!1,e.mouseInBounds=!1,e.tickOnUpdate=!0,e.mouseMoveOutside=!1,e._pointerData=null,e._pointerCount=0,e._primaryPointerID=null,e._mouseOverIntervalID=null,e.Container_initialize=e.initialize,e.initialize=function(t){this.Container_initialize(),this.canvas=t instanceof HTMLCanvasElement?t:document.getElementById(t),this._pointerData={},this._enableMouseEvents(!0)},e.update=function(){if(this.canvas){this.autoClear&&this.clear(),t._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var e=this.canvas.getContext("2d");e.save(),this.updateContext(e),this.draw(e,!1),e.restore()}},e.tick=e.update,e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width,this.canvas.height)}},e.toDataURL=function(t,e){e||(e="image/png");var i,n=this.canvas.getContext("2d"),s=this.canvas.width,a=this.canvas.height;if(t){i=n.getImageData(0,0,s,a);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,s,a)}var r=this.canvas.toDataURL(e);return t&&(n.clearRect(0,0,s,a),n.putImageData(i,0,0),n.globalCompositeOperation=o),r},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.clone=function(){var e=new t(null);return this.cloneProps(e),e},e.toString=function(){return"[Stage (name="+this.name+")]"},e._enableMouseEvents=function(){var t=this,e=window.addEventListener?window:document;e.addEventListener("mouseup",function(e){t._handleMouseUp(e)},!1),e.addEventListener("mousemove",function(e){t._handleMouseMove(e)},!1),e.addEventListener("dblclick",function(e){t._handleDoubleClick(e)},!1),this.canvas&&this.canvas.addEventListener("mousedown",function(e){t._handleMouseDown(e)},!1)},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0},null!=this._primaryPointerID)||(this._primaryPointerID=t),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,n){if(this.canvas){var s=this._getPointerData(t),a=s.inBounds;this._updatePointerPosition(t,i,n),(a||s.inBounds||this.mouseMoveOutside)&&(t=new createjs.MouseEvent("onMouseMove",s.x,s.y,this,e,t,t==this._primaryPointerID,s.rawX,s.rawY),this.onMouseMove&&this.onMouseMove(t),s.event&&s.event.onMouseMove&&(t=t.clone(),t.target=s.event.target,s.event.onMouseMove(t)))}},e._updatePointerPosition=function(t,e,i){var n=this._getElementRect(this.canvas);e-=n.left,i-=n.top;var s=this.canvas.width,a=this.canvas.height;e/=(n.right-n.left)/s,i/=(n.bottom-n.top)/a,n=this._getPointerData(t),(n.inBounds=e>=0&&i>=0&&s-1>=e&&a-1>=i)?(n.x=e,n.y=i):this.mouseMoveOutside&&(n.x=0>e?0:e>s-1?s-1:e,n.y=0>i?0:i>a-1?a-1:i),n.rawX=e,n.rawY=i,t==this._primaryPointerID&&(this.mouseX=n.x,this.mouseY=n.y,this.mouseInBounds=n.inBounds)},e._getElementRect=function(t){var e=t.getBoundingClientRect(),i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),n=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(t):t.currentStyle,t=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),a=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),o=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),s=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:e.left+i+t,right:e.right+i-o,top:e.top+n+a,bottom:e.bottom+n-s}},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i){var n=this._getPointerData(t),s=new createjs.MouseEvent("onMouseUp",n.x,n.y,this,e,t,t==this._primaryPointerID,n.rawX,n.rawY);this.onMouseUp&&this.onMouseUp(s),n.event&&n.event.onMouseUp&&(s=s.clone(),s.target=n.event.target,n.event.onMouseUp(s)),n.target&&n.target.onClick&&this._getObjectsUnderPoint(n.x,n.y,null,!0,this._mouseOverIntervalID?3:1)==n.target&&n.target.onClick(new createjs.MouseEvent("onClick",n.x,n.y,n.target,e,t,t==this._primaryPointerID,n.rawX,n.rawY)),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):n.event=n.target=null},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,!1)},e._handlePointerDown=function(t,e,i,n){var s=this._getPointerData(t);null!=n&&this._updatePointerPosition(t,i,n),this.onMouseDown&&this.onMouseDown(new createjs.MouseEvent("onMouseDown",s.x,s.y,this,e,t,t==this._primaryPointerID,s.rawX,s.rawY)),(i=this._getObjectsUnderPoint(s.x,s.y,null,this._mouseOverIntervalID?3:1))&&(i.onPress&&(t=new createjs.MouseEvent("onPress",s.x,s.y,i,e,t,t==this._primaryPointerID,s.rawX,s.rawY),i.onPress(t),t.onMouseMove||t.onMouseUp)&&(s.event=t),s.target=i)},e._testMouseOver=function(){if(-1==this._primaryPointerID&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var t=null;this.mouseInBounds&&(t=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY),this._mouseOverTarget!=t&&(this._mouseOverTarget&&this._mouseOverTarget.onMouseOut&&this._mouseOverTarget.onMouseOut(new createjs.MouseEvent("onMouseOut",this.mouseX,this.mouseY,this._mouseOverTarget)),t&&t.onMouseOver&&t.onMouseOver(new createjs.MouseEvent("onMouseOver",this.mouseX,this.mouseY,t)),this._mouseOverTarget=t)}},e._handleDoubleClick=function(t){this.onDoubleClick&&this.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,this,t,-1,!0));
var e=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,this._mouseOverIntervalID?3:1);e&&e.onDoubleClick&&e.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,e,t,-1,!0))},createjs.Stage=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.image=null,e.snapToPixel=!0,e.sourceRect=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),"string"==typeof t?(this.image=new Image,this.image.src=t):this.image=t},e.isVisible=function(){return this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.sourceRect;return i?t.drawImage(this.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height):t.drawImage(this.image,0,0),!0},e.clone=function(){var e=new t(this.image);return this.cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.onAnimationEnd=null,e.currentFrame=-1,e.currentAnimation=null,e.paused=!0,e.spriteSheet=null,e.snapToPixel=!0,e.offset=0,e.currentAnimationFrame=0,e._advanceCount=0,e._animation=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),this.spriteSheet=t},e.isVisible=function(){return this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&this.spriteSheet.complete&&this.currentFrame>=0},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(this.currentFrame);if(null!=i){var n=i.rect;return t.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0}},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++,this._normalizeFrame()},e.clone=function(){var e=new t(this.spriteSheet);return this.cloneProps(e),e},e.toString=function(){return"[BitmapAnimation (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){var e=this._animation?this._animation.frequency:1;!this.paused&&(++this._advanceCount+this.offset)%e==0&&this.advance(),this.DisplayObject__tick(t)},e._normalizeFrame=function(){var t=this._animation;t?this.currentAnimationFrame>=t.frames.length?(t.next?this._goto(t.next):(this.paused=!0,this.currentAnimationFrame=t.frames.length-1,this.currentFrame=t.frames[this.currentAnimationFrame]),this.onAnimationEnd&&this.onAnimationEnd(this,t.name)):this.currentFrame=t.frames[this.currentAnimationFrame]:this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd)&&this.onAnimationEnd(this,null)},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.onAnimationEnd=this.onAnimationEnd,t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.offset=this.offset,t._animation=this._animation,t.currentAnimationFrame=this.currentAnimationFrame},e._goto=function(t){if(isNaN(t)){var e=this.spriteSheet.getAnimation(t);e&&(this.currentAnimationFrame=0,this._animation=e,this.currentAnimation=t,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=t},createjs.BitmapAnimation=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.graphics=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),this.graphics=t?t:new createjs.Graphics},e.isVisible=function(){return Boolean(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&this.graphics)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.graphics.draw(t),!0)},e.clone=function(e){return e=new t(e&&this.graphics?this.graphics.clone():this.graphics),this.cloneProps(e),e},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.DisplayObject;t._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),e.text="",e.font=null,e.color="#000",e.textAlign="left",e.textBaseline="top",e.maxWidth=null,e.outline=!1,e.lineHeight=0,e.lineWidth=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t,e,i){this.DisplayObject_initialize(),this.text=t,this.font=e,this.color=i?i:"#000"},e.isVisible=function(){return Boolean(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&null!=this.text&&""!==this.text)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.outline?t.strokeStyle=this.color:t.fillStyle=this.color,t.font=this.font,t.textAlign=this.textAlign||"start",t.textBaseline=this.textBaseline||"alphabetic",this._drawText(t),!0)},e.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width},e.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width},e.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())},e.clone=function(){var e=new t(this.text,this.font,this.color);return this.cloneProps(e),e},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth},e._getWorkingContext=function(){var e=t._workingContext;return e.font=this.font,e.textAlign=this.textAlign||"start",e.textBaseline=this.textBaseline||"alphabetic",e},e._drawText=function(t){var e=!!t;e||(t=this._getWorkingContext());for(var i=String(this.text).split(/(?:\r\n|\r|\n)/),n=this.lineHeight||this.getMeasuredLineHeight(),s=0,a=0,o=i.length;o>a;a++){var r=t.measureText(i[a]).width;if(null==this.lineWidth||r<this.lineWidth)e&&this._drawTextLine(t,i[a],s*n);else{for(var r=i[a].split(/(\s)/),h=r[0],c=1,l=r.length;l>c;c+=2)t.measureText(h+r[c]+r[c+1]).width>this.lineWidth?(e&&this._drawTextLine(t,h,s*n),s++,h=r[c+1]):h+=r[c]+r[c+1];e&&this._drawTextLine(t,h,s*n)}s++}return s},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},createjs.Text=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"SpriteSheetUtils cannot be instantiated"};t._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t._workingContext=t._workingCanvas.getContext("2d"),t.addFlippedFrames=function(e,i,n,s){if(i||n||s){var a=0;i&&t._flip(e,++a,!0,!1),n&&t._flip(e,++a,!1,!0),s&&t._flip(e,++a,!0,!0)}},t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var s=n.rect,a=t._workingCanvas;return a.width=s.width,a.height=s.height,t._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height),n=new Image,n.src=a.toDataURL("image/png"),n},t.mergeAlpha=function(t,e,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(e.width,t.width),i.height=Math.max(e.height,t.height);var n=i.getContext("2d");return n.save(),n.drawImage(t,0,0),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),n.restore(),i},t._flip=function(e,i,n,s){for(var a=e._images,o=t._workingCanvas,r=t._workingContext,h=a.length/i,c=0;h>c;c++){var l=a[c];l.__tmp=c,o.width=0,o.width=l.width,o.height=l.height,r.setTransform(n?-1:1,0,0,s?-1:1,n?l.width:0,s?l.height:0),r.drawImage(l,0,0);var u=new Image;u.src=o.toDataURL("image/png"),u.width=l.width,u.height=l.height,a.push(u)}for(r=e._frames,o=r.length/i,c=0;o>c;c++){var l=r[c],p=l.rect.clone(),u=a[l.image.__tmp+h*i],_={image:u,rect:p,regX:l.regX,regY:l.regY};n&&(p.x=u.width-p.x-p.width,_.regX=p.width-l.regX),s&&(p.y=u.height-p.y-p.height,_.regY=p.height-l.regY),r.push(_)}for(n="_"+(n?"h":"")+(s?"v":""),s=e._animations,e=e._data,a=s.length/i,c=0;a>c;c++){for(r=s[c],l=e[r],h={name:r+n,frequency:l.frequency,next:l.next,frames:[]},l.next&&(h.next+=n),r=l.frames,l=0,u=r.length;u>l;l++)h.frames.push(r[l]+o*i);e[h.name]=h,s.push(h.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.maxWidth=2048,e.maxHeight=2048,e.spriteSheet=null,e.scale=1,e.padding=1,e._frames=null,e._animations=null,e._data=null,e._nextFrameIndex=0,e._index=0,e._callback=null,e._timeSlice=null,e._timerID=null,e._scale=1,e.initialize=function(){this._frames=[],this._animations={}},e.addFrame=function(e,i,n,s,a,o){if(this._data)throw t.ERR_RUNNING;return i=i||e.bounds||e.nominalBounds,!i&&e.getBounds&&(i=e.getBounds()),i?(n=n||1,this._frames.push({source:e,sourceRect:i,scale:n,funct:s,params:a,scope:o,index:this._frames.length,height:i.height*n})-1):null},e.addAnimation=function(e,i,n,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:n,frequency:s}},e.addMovieClip=function(e,i,n){if(this._data)throw t.ERR_RUNNING;var s=e.frameBounds,a=i||e.bounds||e.nominalBounds;if(!a&&e.getBounds&&(a=e.getBounds()),!a&&!s)return null;for(var i=e.timeline.duration,o=0;i>o;o++)this.addFrame(e,s&&s[o]?s[o]:a,n,function(t){var e=this.actionsEnabled;this.actionsEnabled=!1,this.gotoAndStop(t),this.actionsEnabled=e},[o],e);var r,o=e.timeline._labels,e=[];for(r in o)e.push({index:o[r],label:r});if(e.length)for(e.sort(function(t,e){return t.index-e.index}),o=0,r=e.length;r>o;o++){for(var n=e[o].label,s=o==r-1?i:e[o+1].index,a=[],h=e[o].index;s>h;h++)a.push(h);this.addAnimation(n,a,!0)}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._callback=null,this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e,i){if(this._data)throw t.ERR_RUNNING;this._callback=e,this._startBuild(),this._timeSlice=50*Math.max(.01,Math.min(.99,i||.3));var n=this;this._timerID=setTimeout(function(){n._run()},50-this._timeSlice)},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,animations:this._animations};var n=this._frames.slice();if(n.sort(function(t,e){return t.height<=e.height?-1:1}),n[n.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var s=0,a=0,o=0;n.length;){var r=this._fillRow(n,s,o,i,e);if(r.w>a&&(a=r.w),s+=r.h,!r.h||!n.length){var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(a,this.maxWidth),h.height=this._getSize(s,this.maxHeight),this._data.images[o]=h,r.h||(a=s=0,o++)}}},e._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,i,n,s,a){var o=this.maxWidth,r=this.maxHeight-i,h=a;i+=a;for(var c=0,l=e.length-1;l>=0;l--){var u=e[l],p=this._scale*u.scale,_=u.sourceRect,d=u.source,f=Math.floor(p*_.x-a),g=Math.floor(p*_.y-a),m=Math.ceil(p*_.height+2*a),_=Math.ceil(p*_.width+2*a);if(_>o)throw t.ERR_DIMENSIONS;m>r||h+_>o||(u.img=n,u.rect=new createjs.Rectangle(h,i,_,m),c=c||m,e.splice(l,1),s[u.index]=[h,i,_,m,n,Math.round(-f+p*d.regX-a),Math.round(-g+p*d.regY-a)],h+=_)}return{w:h,h:c}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this._callback&&this._callback(this)},e._run=function(){for(var t=(new Date).getTime()+this._timeSlice,e=!1;t>(new Date).getTime();)if(!this._drawNext()){e=!0;break}if(e)this._endBuild();else{var i=this;this._timerID=setTimeout(function(){i._run()},50-this._timeSlice)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,s=this._data.images[t.img].getContext("2d");return t.funct&&t.funct.apply(t.scope,t.params),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip(),s.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),s.scale(e,e),t.source.draw(s),s.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.htmlElement=null,e._style=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){"string"==typeof t&&(t=document.getElementById(t)),this.DisplayObject_initialize(),this.mouseEnabled=!1,(this.htmlElement=t)&&(this._style=t.style,this._style.position="absolute",this._style.transformOrigin=this._style.WebkitTransformOrigin=this._style.msTransformOrigin=this._style.MozTransformOrigin=this._style.OTransformOrigin="0% 0%")},e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){if(null!=this.htmlElement){var t=this.getConcatenatedMatrix(this._matrix),e=this.htmlElement;return e.style.opacity=""+t.alpha,e.style.visibility=this.visible?"visible":"hidden",e.style.transform=e.style.WebkitTransform=e.style.OTransform=e.style.msTransform=["matrix("+t.a,t.b,t.c,t.d,t.tx+.5|0,(t.ty+.5|0)+")"].join(","),e.style.MozTransform=["matrix("+t.a,t.b,t.c,t.d,(t.tx+.5|0)+"px",(t.ty+.5|0)+"px)"].join(","),!0}},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){var e=new t;return this.cloneProps(e),e},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){null!=this.htmlElement&&(this.htmlElement.style.visibility="hidden",this.onTick)&&this.onTick(t)},createjs.DOMElement=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;e.initialize=function(){},e.getBounds=function(){return new createjs.Rectangle(0,0,0,0)},e.applyFilter=function(){},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Touch cannot be instantiated"};t.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled},t.enable=function(e,i,n){return e&&e.canvas&&t.isSupported()?(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?t._IOS_enable(e):window.navigator.msPointerEnabled&&t._IE_enable(e),!0):!1},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):window.navigator.msPointerEnabled&&t._IE_disable(e))},t._IOS_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},t._IOS_disable=function(t){var e=t.canvas;e&&(t=t.__touch.f,e.removeEventListener("touchstart",t,!1),e.removeEventListener("touchmove",t,!1),e.removeEventListener("touchend",t,!1),e.removeEventListener("touchcancel",t,!1))},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,n=e.type,s=0,a=i.length;a>s;s++){var o=i[s],r=o.identifier;o.target==t.canvas&&("touchstart"==n?this._handleStart(t,r,e,o.pageX,o.pageY):"touchmove"==n?this._handleMove(t,r,e,o.pageX,o.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(t,r,e))}}},t._IE_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IE_handleEvent(e,i)};i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none"),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,n=e.pointerId,s=t.__touch.activeIDs;"MSPointerDown"==i?e.srcElement==t.canvas&&(s[n]=!0,this._handleStart(t,n,e,e.pageX,e.pageY)):s[n]&&("MSPointerMove"==i?this._handleMove(t,n,e,e.pageX,e.pageY):("MSPointerUp"==i||"MSPointerCancel"==i)&&(delete s[n],this._handleEnd(t,n,e)))}},t._handleStart=function(t,e,i,n,s){var a=t.__touch;if(a.multitouch||!a.count){var o=a.pointers;o[e]||(o[e]=!0,a.count++,t._handlePointerDown(e,i,n,s))}},t._handleMove=function(t,e,i,n,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,s)},t._handleEnd=function(t,e,i){var n=t.__touch,s=n.pointers;s[e]&&(n.count--,t._handlePointerUp(e,i,!0),delete s[e])},createjs.Touch=t}(),s("undefined"!=typeof createjs?createjs:window.createjs)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(t,e,i){(function(t){(function(t,e,i,n,s){this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype=new createjs.Container;t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",e.startPosition=0,e.loop=!0,e.timeline=null,e.paused=!1,e.actionsEnabled=!0,e._synchOffset=0,e._prevPos=-1,e._prevPosition=0,e.Container_initialize=e.initialize,e.initialize=function(e,i,n,s){this.mode=e||t.INDEPENDENT,this.startPosition=i||0,this.loop=n,props={paused:!0,position:i,useTicks:!0},this.Container_initialize(),this.timeline=new createjs.Timeline(null,s,props),this._managed={}},e.isVisible=function(){return this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY},e.Container_draw=e.draw,e.draw=function(t,e,i){return this.DisplayObject_draw(t,e)?!0:(this._updateTimeline(),void this.Container_draw(t,e,i))},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.clone=function(){throw"MovieClip cannot be cloned."},e.toString=function(){return"[MovieClip (name="+this.name+")]"},e.Container__tick=e._tick,e._tick=function(e){this.paused||this.mode!=t.INDEPENDENT||(this._prevPosition=this._prevPos<0?0:this._prevPosition+1),this.Container__tick(e)},e._goto=function(t){t=this.timeline.resolve(t),null!=t&&(this._prevPosition=t,this._updateTimeline())},e._reset=function(){this._prevPos=-1},e._updateTimeline=function(){var e=this.timeline,i=e._tweens,n=this.children,s=this.mode!=t.INDEPENDENT;if(e.loop=null==this.loop?!0:this.loop,s?e.setPosition(this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset),createjs.Tween.NONE):e.setPosition(this._prevPosition,this.actionsEnabled?null:createjs.Tween.NONE),this._prevPosition=e._prevPosition,this._prevPos!=e._prevPos){this._prevPos=e._prevPos;for(var a in this._managed)this._managed[a]=1;for(e=i.length-1;e>=0;e--)a=i[e],s=a._target,s!=this&&(a=a._stepPosition,s instanceof createjs.DisplayObject?this._addManagedChild(s,a):this._setState(s.state,a));for(e=n.length-1;e>=0;e--)i=n[e].id,1==this._managed[i]&&(this.removeChildAt(e),delete this._managed[i])}},e._setState=function(t,e){if(t)for(var i=0,n=t.length;n>i;i++){var s,a=t[i],o=a.t,a=a.p;for(s in a)o[s]=a[s];this._addManagedChild(o,e)}},e._addManagedChild=function(e,i){e._off||(this.addChild(e),e instanceof t&&(e._synchOffset=i,e.mode==t.INDEPENDENT&&(!this._managed[e.id]||0==this._prevPos)&&e._reset()),this._managed[e.id]=2)},createjs.MovieClip=t;var i=function(){throw"MovieClipPlugin cannot be instantiated."};i.priority=100,i.install=function(){createjs.Tween.installPlugin(i,["startPosition"])},i.init=function(t,e,i){return"startPosition"!=e&&t._target instanceof createjs.MovieClip?void 0:i},i.tween=function(t,e,i,n,s,a){return t._target instanceof createjs.MovieClip?1==a?s[e]:n[e]:i},i.install()}(),s("undefined"!=typeof createjs?createjs:window.createjs)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(t,e,i){(function(t){(function(t,e,i,n,s){this.createjs=this.createjs||{},function(){var t=function(){this.init()};t.prototype={};var e=t.prototype;e.loaded=!1,e.canceled=!1,e.progress=0,e._item=null,e.onProgress=null,e.onLoadStart=null,e.onFileLoad=null,e.onFileProgress=null,e.onComplete=null,e.onError=null,e.getItem=function(){return this._item},e.init=function(){},e.load=function(){},e.cancel=function(){},e._sendLoadStart=function(){!this._isCanceled()&&this.onLoadStart&&this.onLoadStart({target:this})},e._sendProgress=function(t){if(!this._isCanceled()){var e;t instanceof Number?(this.progress=t,e={loaded:this.progress,total:1}):(e=t,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),e.target=this,this.onProgress&&this.onProgress(e)}},e._sendFileProgress=function(t){this._isCanceled()?this._cleanUp():this.onFileProgress&&(t.target=this,this.onFileProgress(t))},e._sendComplete=function(){!this._isCanceled()&&this.onComplete&&this.onComplete({target:this})},e._sendFileComplete=function(t){!this._isCanceled()&&this.onFileLoad&&(t.target=this,this.onFileLoad(t))},e._sendError=function(t){!this._isCanceled()&&this.onError&&(null==t&&(t={}),t.target=this,this.onError(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.AbstractLoader;t.IMAGE="image",t.SVG="svg",t.SOUND="sound",t.JSON="json",t.JAVASCRIPT="javascript",t.CSS="css",t.XML="xml",t.TEXT="text",t.TIMEOUT_TIME=8e3,e.useXHR=!0,e.stopOnError=!1,e.maintainScriptOrder=!0,e.next=null,e.typeHandlers=null,e.extensionHandlers=null,e._loadStartWasDispatched=!1,e._maxConnections=1,e._currentLoads=null,e._loadQueue=null,e._loadedItemsById=null,e._loadedItemsBySrc=null,e._targetProgress=0,e._numItems=0,e._numItemsLoaded=null,e._scriptOrder=null,e._loadedScripts=null,e.TAG_LOAD_OGGS=!0,e.initialize=function(t){this._targetProgress=this._numItemsLoaded=this._numItems=0,this._paused=!1,this._currentLoads=[],this._loadQueue=[],this._scriptOrder=[],this._loadedScripts=[],this._loadedItemsById={},this._loadedItemsBySrc={},this.typeHandlers={},this.extensionHandlers={},this._loadStartWasDispatched=!1,this.useXHR=0!=t&&null!=window.XMLHttpRequest,this.determineCapabilities()},e.determineCapabilities=function(){var t=createjs.PreloadJS.BrowserDetect;null!=t&&(createjs.PreloadJS.TAG_LOAD_OGGS=t.isFirefox||t.isOpera)},t.isBinary=function(t){switch(t){case createjs.PreloadJS.IMAGE:case createjs.PreloadJS.SOUND:return!0;default:return!1}},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){if(t=t.getPreloadHandlers(),null!=t.types)for(var e=0,i=t.types.length;i>e;e++)this.typeHandlers[t.types[e]]=t.callback;if(null!=t.extensions)for(e=0,i=t.extensions.length;i>e;e++)this.extensionHandlers[t.extensions[e]]=t.callback}},e.setMaxConnections=function(t){this._maxConnections=t,this._paused||this._loadNext()},e.loadFile=function(t,e){null==t?this._sendError({text:"File is null."}):(this._addItem(t),e!==!1&&this.setPaused(!1))},e.loadManifest=function(t,e){var i;if(t instanceof Array){if(0==t.length)return void this._sendError({text:"Manifest is empty."});i=t}else{if(null==t)return void this._sendError({text:"Manifest is null."});i=[t]}for(var n=0,s=i.length;s>n;n++)this._addItem(i[n],!1);e!==!1&&this._loadNext()},e.load=function(){this.setPaused(!1)},e.getResult=function(t){return this._loadedItemsById[t]||this._loadedItemsBySrc[t]},e.setPaused=function(t){(this._paused=t)||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0},e._addItem=function(t){t=this._createLoadItem(t),null!=t&&(this._loadQueue.push(t),this._numItems++,this._updateProgress(),t.getItem().type==createjs.PreloadJS.JAVASCRIPT&&(this._scriptOrder.push(t.getItem()),this._loadedScripts.push(null)))},e._loadNext=function(){if(!this._paused)for(this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded&&(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load.apply(this.next));this._loadQueue.length&&this._currentLoads.length<this._maxConnections;)this._loadItem(this._loadQueue.shift())},e._loadItem=function(t){t.onProgress=createjs.PreloadJS.proxy(this._handleProgress,this),t.onComplete=createjs.PreloadJS.proxy(this._handleFileComplete,this),t.onError=createjs.PreloadJS.proxy(this._handleFileError,this),this._currentLoads.push(t),t.load()},e._handleFileError=function(t){var t=t.target,e=this._createResultData(t.getItem());this._numItemsLoaded++,this._updateProgress(),this._sendError(e),this.stopOnError||(this._removeLoadItem(t),this._loadNext())},e._createResultData=function(t){var e={id:t.id,result:null,data:t.data,type:t.type,src:t.src};return this._loadedItemsById[t.id]=e,this._loadedItemsBySrc[t.src]=e},e._handleFileComplete=function(t){var t=t.target,e=t.getItem(),i=this._createResultData(e);switch(this._removeLoadItem(t),i.result=t instanceof createjs.XHRLoader?this._createResult(e,t.getResult()):e.tag,e.type){case createjs.PreloadJS.IMAGE:if(t instanceof createjs.XHRLoader){var n=this;return void(i.result.onload=function(){n._handleFileTagComplete(e,i)})}break;case createjs.PreloadJS.JAVASCRIPT:if(this.maintainScriptOrder)return this._loadedScripts[this._scriptOrder.indexOf(e)]=e,void this._checkScriptLoadOrder(t)}this._handleFileTagComplete(e,i)},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var i=this._loadedScripts[e];if(null===i)break;if(i!==!0){var n=this.getResult(i.src),i=this.getResult(i.id);i.result=n.result,this._handleFileTagComplete(n,i),this._loadedScripts[e]=!0,e--,t--}}},e._handleFileTagComplete=function(t,e){this._numItemsLoaded++,t.completeHandler&&t.completeHandler(e),this._updateProgress(),this._sendFileComplete(e),this._loadNext()},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;e>i;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._createResult=function(t,e){var i,n=null;switch(t.type){case createjs.PreloadJS.IMAGE:n=this._createImage();break;case createjs.PreloadJS.SOUND:n=t.tag||this._createAudio();break;case createjs.PreloadJS.CSS:n=this._createLink();break;case createjs.PreloadJS.JAVASCRIPT:n=this._createScript();break;case createjs.PreloadJS.SVG:var n=this._createSVG(),s=this._createXML(e,"image/svg+xml");n.appendChild(s);break;case createjs.PreloadJS.XML:i=this._createXML(e,"text/xml");break;case createjs.PreloadJS.JSON:case createjs.PreloadJS.TEXT:i=e}return n?(t.type==createjs.PreloadJS.CSS?n.href=t.src:t.type!=createjs.PreloadJS.SVG&&(n.src=t.src),n):i},e._createXML=function(t,e){var i;return window.DOMParser?(i=new DOMParser,i=i.parseFromString(t,e)):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)),i},e._handleProgress=function(t){var t=t.target,e=this._createResultData(t.getItem());e.progress=t.progress,this._sendFileProgress(e),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var i=0,n=0,s=this._currentLoads.length;s>n;n++)i+=this._currentLoads[n].progress;t+=i/e*(e/this._numItems)}this._sendProgress({loaded:t,total:1})},e._createLoadItem=function(t){var e={};switch(typeof t){case"string":e.src=t;break;case"object":t instanceof HTMLAudioElement?(e.tag=t,e.src=e.tag.src,e.type=createjs.PreloadJS.SOUND):e=t}if(e.ext=this._getNameAfter(e.src,"."),e.type||(e.type=this.getType(e.ext)),(null==e.id||""==e.id)&&(e.id=e.src),t=this.typeHandlers[e.type]||this.extensionHandlers[e.ext]){if(t=t(e.src,e.type,e.id,e.data),t===!1)return null;t!==!0&&(null!=t.src&&(e.src=t.src),null!=t.id&&(e.id=t.id),null!=t.tag&&t.tag.load instanceof Function&&(e.tag=t.tag)),e.ext=this._getNameAfter(e.src,".")}switch(t=this.useXHR,e.type){case createjs.PreloadJS.JSON:case createjs.PreloadJS.XML:case createjs.PreloadJS.TEXT:t=!0;break;case createjs.PreloadJS.SOUND:"ogg"==e.ext&&createjs.PreloadJS.TAG_LOAD_OGGS&&(t=!1)}return 1!=this.useXHR||e.type!=createjs.PreloadJS.IMAGE&&e.type!=createjs.PreloadJS.SVG?t?new createjs.XHRLoader(e):e.tag?new createjs.TagLoader(e):this._createTagItem(e):(e=this._createTagItem(e),e.useXHR=!0,e)},e._createTagItem=function(t){var e,i="src",n=!1;switch(t.type){case createjs.PreloadJS.IMAGE:e=this._createImage();break;case createjs.PreloadJS.SOUND:e=this._createAudio();break;case createjs.PreloadJS.CSS:i="href",n=!0,e=this._createLink();break;case createjs.PreloadJS.JAVASCRIPT:n=!0,e=this._createScript();break;case createjs.PreloadJS.SVG:i="data",e=this._createSVG()}return t.tag=e,new createjs.TagLoader(t,i,n)},e.getType=function(t){switch(t){case"jpeg":case"jpg":case"gif":case"png":return createjs.PreloadJS.IMAGE;case"ogg":case"mp3":case"wav":return createjs.PreloadJS.SOUND;case"json":return createjs.PreloadJS.JSON;case"xml":return createjs.PreloadJS.XML;case"css":return createjs.PreloadJS.CSS;case"js":return createjs.PreloadJS.JAVASCRIPT;case"svg":return createjs.PreloadJS.SVG;default:return createjs.PreloadJS.TEXT}},e._getNameAfter=function(t,e){var i=t.lastIndexOf(e),i=t.substr(i+1),n=i.lastIndexOf(/[\b|\?|\#|\s]/);return-1==n?i:i.substr(0,n)},e._createImage=function(){return document.createElement("img")},e._createSVG=function(){var t=document.createElement("object");return t.type="image/svg+xml",t},e._createAudio=function(){var t=document.createElement("audio");return t.autoplay=!1,t.type="audio/ogg",t},e._createScript=function(){var t=document.createElement("script");return t.type="text/javascript",t},e._createLink=function(){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t},e.toString=function(){return"[PreloadJS]"},t.proxy=function(t,e){return function(i){return t.apply(e,arguments)}},createjs.PreloadJS=t;var i=function(){};i.init=function(){var t=navigator.userAgent;i.isFirefox=t.indexOf("Firefox")>-1,i.isOpera=null!=window.opera,i.isIOS=t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1},i.init(),createjs.PreloadJS.BrowserDetect=i}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.init(t,e,i)},e=t.prototype=new createjs.AbstractLoader;e._srcAttr=null,e._loadTimeOutTimeout=null,e.tagCompleteProxy=null,e.init=function(t,e,i){this._item=t,this._srcAttr=e||"src",this.useXHR=1==i,this.isAudio=t.tag instanceof HTMLAudioElement,this.tagCompleteProxy=createjs.PreloadJS.proxy(this._handleTagLoad,this)},e.cancel=function(){this.canceled=!0,this._clean();var t=this.getItem();null!=t&&(t.src=null)},e.load=function(){this.useXHR?this.loadXHR():this.loadTag()},e.loadXHR=function(){var t=this.getItem(),t=new createjs.XHRLoader(t);t.onProgress=createjs.PreloadJS.proxy(this._handleProgress,this),t.onFileLoad=createjs.PreloadJS.proxy(this._handleXHRComplete,this),t.onComplete=createjs.PreloadJS.proxy(this._handleXHRComplete,this),t.onError=createjs.PreloadJS.proxy(this._handleLoadError,this),
t.load()},e._handleXHRComplete=function(t){if(!this._isCanceled()){this._clean(),t.target.onFileLoad=null,t.target.onComplete=null;var e=t.target.getItem();t.target.getResult(),e.type==createjs.PreloadJS.IMAGE?(e.tag.onload=createjs.PreloadJS.proxy(this._sendComplete,this),e.tag.src=e.src):(e.tag[this._srcAttr]=e.src,this._sendComplete())}},e._handleLoadError=function(t){t.error&&101==t.error.code?this.loadTag():(this._clean(),this._sendError(t))},e.loadTag=function(){var t=this.getItem(),e=t.tag;clearTimeout(this._loadTimeOutTimeout),this._loadTimeOutTimeout=setTimeout(createjs.PreloadJS.proxy(this._handleLoadTimeOut,this),createjs.PreloadJS.TIMEOUT_TIME),this.isAudio&&(e.src=null,e.preload="auto",e.setAttribute("data-temp","true")),e.onerror=createjs.PreloadJS.proxy(this._handleLoadError,this),e.onprogress=createjs.PreloadJS.proxy(this._handleProgress,this),this.isAudio?(e.onstalled=createjs.PreloadJS.proxy(this._handleStalled,this),e.addEventListener("canplaythrough",this.tagCompleteProxy,!1)):e.onload=createjs.PreloadJS.proxy(this._handleTagLoad,this),e[this._srcAttr]=t.src,t.type==createjs.PreloadJS.SVG&&document.getElementsByTagName("body")[0].appendChild(e),t=t.type==createjs.PreloadJS.SOUND&&"ogg"==t.ext&&createjs.PreloadJS.BrowserDetect.isFirefox,null!=e.load&&!t&&e.load()},e._handleLoadTimeOut=function(){this._clean(),this._sendError()},e._handleStalled=function(){},e._handleLoadError=function(){this._clean(),this._sendError()},e._handleTagLoad=function(){if(!this._isCanceled()){var t=this.getItem().tag;clearTimeout(this._loadTimeOutTimeout),this.loaded||this.isAudio&&4!==t.readyState||(this.getItem().type==createjs.PreloadJS.SVG&&document.getElementsByTagName("body")[0].removeChild(t),this.loaded=!0,this._clean(),this._sendComplete())}},e._clean=function(){clearTimeout(this._loadTimeOutTimeout);var t=this.getItem().tag;t.onload=null,t.removeEventListener&&t.removeEventListener("canplaythrough",this.tagCompleteProxy,!1),t.onstalled=null,t.onprogress=null,t.onerror=null},e._handleProgress=function(t){if(clearTimeout(this._loadTimeOutTimeout),this.isAudio){if(t=this.getItem(),null==t.buffered)return;t={loaded:t.buffered.length>0?t.buffered.end(0):0,total:t.duration}}this._sendProgress(t)},e.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.init(t)},e=t.prototype=new createjs.AbstractLoader;e._wasLoaded=!1,e._request=null,e._loadTimeOutTimeout=null,e._xhrLevel=null,e.init=function(t){this._item=t,this._createXHR(t)},e.getResult=function(){try{return this._request.responseText}catch(t){}return this._request.response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)this.handleError();else{1==this._xhrLevel&&(this._loadTimeOutTimeout=setTimeout(createjs.PreloadJS.proxy(this.handleTimeout,this),createjs.PreloadJS.TIMEOUT_TIME)),this._request.onloadstart=createjs.PreloadJS.proxy(this.handleLoadStart,this),this._request.onprogress=createjs.PreloadJS.proxy(this.handleProgress,this),this._request.onabort=createjs.PreloadJS.proxy(this.handleAbort,this),this._request.onerror=createjs.PreloadJS.proxy(this.handleError,this),this._request.ontimeout=createjs.PreloadJS.proxy(this.handleTimeout,this),this._request.onload=createjs.PreloadJS.proxy(this.handleLoad,this),this._request.onreadystatechange=createjs.PreloadJS.proxy(this.handleReadyStateChange,this);try{this._request.send()}catch(t){this._sendError({source:t})}}},e.handleProgress=function(t){t.loaded>0&&0==t.total||this._sendProgress({loaded:t.loaded,total:t.total})},e.handleLoadStart=function(){clearTimeout(this._loadTimeOutTimeout),this._sendLoadStart()},e.handleAbort=function(){this._clean(),this._sendError()},e.handleError=function(){this._clean(),this._sendError()},e.handleReadyStateChange=function(){4==this._request.readyState&&this.handleLoad()},e._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return this._hasResponse()||this._hasTextResponse()||this._hasXMLResponse()},e._hasResponse=function(){return null!=this._request.response},e._hasTextResponse=function(){try{return null!=this._request.responseText}catch(t){return!1}},e._hasXMLResponse=function(){try{return null!=this._request.responseXML}catch(t){return!1}},e.handleLoad=function(){this.loaded||(this.loaded=!0,this._checkError()?(this._clean(),this._sendComplete()):this.handleError())},e.handleTimeout=function(){this._clean(),this._sendError()},e._createXHR=function(t){if(this._xhrLevel=1,window.ArrayBuffer&&(this._xhrLevel=2),window.XMLHttpRequest)this._request=new XMLHttpRequest;else try{this._request=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}return t.type==createjs.PreloadJS.TEXT&&this._request.overrideMimeType&&this._request.overrideMimeType("text/plain; charset=x-user-defined"),this._request.open("GET",t.src,!0),createjs.PreloadJS.isBinary(t.type)&&(this._request.responseType="arraybuffer"),!0},e._clean=function(){clearTimeout(this._loadTimeOutTimeout);var t=this._request;t.onloadstart=null,t.onprogress=null,t.onabort=null,t.onerror=null,t.onload=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,clearInterval(this._checkLoadInterval)},e.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=t}(),s("undefined"!=typeof createjs?createjs:window.createjs)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,e,i){(function(t){(function(t,e,i,s,a){this.createjs=this.createjs||{},function(){var t=function(t,e){this.initialize(t,e)},e=t.prototype;t.NONE=0,t.LOOP=1,t.REVERSE=2,t.IGNORE={},t._tweens=[],t._plugins={},t.get=function(e,i,n){return new t(e,i,n)},t.tick=function(e,i){for(var n=t._tweens.slice(),s=n.length-1;s>=0;s--){var a=n[s];i&&!a.ignoreGlobalPause||a._paused||a.tick(a._useTicks?1:e)}},createjs.Ticker&&createjs.Ticker.addListener(t,!1),t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweens,n=i.length-1;n>=0;n--)i[n]._target==e&&(i[n]._paused=!0,i.splice(n,1));e.tweenjs_count=0}},t.hasActiveTweens=function(e){return e?e.tweenjs_count:t._tweens&&t._tweens.length},t.installPlugin=function(e,i){var n=e.priority;null==n&&(e.priority=n=0);for(var s=0,a=i.length,o=t._plugins;a>s;s++){var r=i[s];if(o[r]){for(var h=o[r],c=0,l=h.length;l>c&&!(n<h[c].priority);c++);o[r].splice(c,0,e)}else o[r]=[e]}},t._register=function(e,i){var n=e._target;i?(n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1),t._tweens.push(e)):(n&&n.tweenjs_count--,n=t._tweens.indexOf(e),-1!=n&&t._tweens.splice(n,1))},e.ignoreGlobalPause=!1,e.loop=!1,e.duration=0,e.pluginData=null,e.onChange=null,e.target=null,e.position=null,e._paused=!1,e._curQueueProps=null,e._initQueueProps=null,e._steps=null,e._actions=null,e._prevPosition=0,e._stepPosition=0,e._prevPos=-1,e._target=null,e._useTicks=!1,e.initialize=function(e,i,n){this.target=this._target=e,i&&(this._useTicks=i.useTicks,this.ignoreGlobalPause=i.ignoreGlobalPause,this.loop=i.loop,this.onChange=i.onChange,i.override&&t.removeTweens(e)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],i&&i.paused?this._paused=!0:t._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,t.NONE)},e.wait=function(t){if(null==t||0>=t)return this;var e=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:e,e:this._linearEase,p1:e})},e.to=function(t,e,i){return(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},e.call=function(t,e,i){return this._addAction({f:t,p:e?e:[this],o:i?i:this._target})},e.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},e.play=function(t){return this.call(t.setPaused,[!1],t)},e.pause=function(t){return t||(t=this),this.call(t.setPaused,[!0],t)},e.setPosition=function(t,e){0>t&&(t=0),null==e&&(e=1);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;if(this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var s=0,a=this._steps.length;a>s&&!(this._steps[s].t>i);s++);s=this._steps[s-1],this._updateTargetProps(s,(this._stepPosition=i-s.t)/s.d,i)}return s=this._prevPos,this.position=this._prevPos=i,this._prevPosition=t,0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&s>i?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),n&&this.setPaused(!0),this.onChange&&this.onChange(this),n},e.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},e.setPaused=function(e){return this._paused=!!e,t._register(this,!e),this},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._updateTargetProps=function(e,i,s){var a,o,r,h;e||1!=i?(e.e&&(i=e.e(i,0,1,1)),a=e.p0,o=e.p1):a=o=this._curQueueProps;for(n in this._initQueueProps){null==(r=a[n])&&(a[n]=r=this._initQueueProps[n]),null==(h=o[n])&&(o[n]=h=r),r=r==h||0==i||1==i||"number"!=typeof r?1==i?h:r:r+(h-r)*i;var c=!1;if(h=t._plugins[n])for(var l=0,u=h.length;u>l;l++){var p=h[l].tween(this,n,r,a,o,i,s,!e);p==t.IGNORE?c=!0:r=p}c||(this._target[n]=r)}},e._runActions=function(t,e,i){var n=t,s=e,a=-1,o=this._actions.length,r=1;for(t>e&&(n=e,s=t,a=o,o=r=-1);(a+=r)!=o;){var e=this._actions[a],h=e.t;(h==s||h>n&&s>h||i&&h==t)&&e.f.apply(e.o,e.p)}},e._appendQueueProps=function(e){var i,n,s,a;for(a in e){if(null==this._initQueueProps[a]){if(n=this._target[a],i=t._plugins[a])for(var o=0,r=i.length;r>o;o++)s=i[o].init(this,a,n),s!=t.IGNORE&&(n=s);this._initQueueProps[a]=n}this._curQueueProps[a]=e[a]}return this._curQueueProps},e._cloneProps=function(t){var e,i={};for(e in t)i[e]=t[e];return i},e._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e._set=function(t,e){for(var i in t)e[i]=t[i]},createjs.Tween=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype;e.ignoreGlobalPause=!1,e.duration=0,e.loop=!1,e.onChange=null,e.position=null,e._paused=!1,e._tweens=null,e._labels=null,e._prevPosition=0,e._prevPos=-1,e._useTicks=!1,e.initialize=function(t,e,i){this._tweens=[],i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,this.onChange=i.onChange),t&&this.addTween.apply(this,t),this.setLabels(e),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)},e.addTween=function(t){var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addTween(arguments[i]);return arguments[0]}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),this._prevPos>=0&&t.setPosition(this._prevPos,createjs.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeTween(arguments[n]);return i}return 0==e?!1:(e=this._tweens.indexOf(t),-1!=e?(this._tweens.splice(e,1),t.duration>=this.duration&&this.updateDuration(),!0):!1)},e.addLabel=function(t,e){this._labels[t]=e},e.setLabels=function(t){this._labels=t?t:{}},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){0>t&&(t=0);var i=this.loop?t%this.duration:t,n=!this.loop&&t>=this.duration;if(i==this._prevPos)return n;this._prevPosition=t,this.position=this._prevPos=i;for(var s=0,a=this._tweens.length;a>s;s++)if(this._tweens[s].setPosition(i,e),i!=this._prevPos)return!1;return n&&this.setPaused(!0),this.onChange&&this.onChange(this),n},e.setPaused=function(t){this._paused=!!t,createjs.Tween._register(this,!t)},e.updateDuration=function(){for(var t=this.duration=0,e=this._tweens.length;e>t;t++)tween=this._tweens[t],tween.duration>this.duration&&(this.duration=tween.duration)},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=parseFloat(t);return isNaN(e)&&(e=this._labels[t]),e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){t=this.resolve(t),null!=t&&this.setPosition(t)},createjs.Timeline=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Ease cannot be instantiated."};t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e))}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-s)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var s=e/i*Math.asin(1/t);return(n*=2)<1?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e):t*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),a("undefined"!=typeof createjs?createjs:window.createjs)}).call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[15]);